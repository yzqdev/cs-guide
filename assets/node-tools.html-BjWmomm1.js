import{_ as a,c as n,a as r,o as t}from"./app-B6vXTniy.js";const s={};function o(p,e){return t(),n("div",null,[...e[0]||(e[0]=[r(`<h1 id="node命令行工具" tabindex="-1"><a class="header-anchor" href="#node命令行工具"><span>node命令行工具</span></a></h1><blockquote><p>注意事项 <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c" target="_blank" rel="noopener noreferrer">https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c</a></p></blockquote><ul><li><code>tsconfig.json</code>设置<code>&quot;module&quot;: &quot;CommonJS&quot;,</code></li><li><code>package.json</code>一般不建议设置<code>&quot;type&quot;:&quot;module&quot;</code>不然编译出来的js文件需要加上后缀名<code>import help from &#39;./help.js&#39;</code>,然而ts编译出来的并没有后缀</li></ul><p><a href="https://www.jsdocs.io/" target="_blank" rel="noopener noreferrer">https://www.jsdocs.io/</a></p><h2 id="cli依赖库" tabindex="-1"><a class="header-anchor" href="#cli依赖库"><span>cli依赖库</span></a></h2><h3 id="文件处理" tabindex="-1"><a class="header-anchor" href="#文件处理"><span>文件处理</span></a></h3><ul><li><a href="https://github.com/sergiu-gordienco/nodejs-fs-utils/" target="_blank" rel="noopener noreferrer">nodejs-fs-utils</a></li><li><a href="https://github.com/alessioalex/get-folder-size" target="_blank" rel="noopener noreferrer">get-folder-size</a></li><li><a href="https://github.com/paulmillr/chokidar" target="_blank" rel="noopener noreferrer">chokidar</a></li><li><a href="https://github.com/sindresorhus/globby" target="_blank" rel="noopener noreferrer">globby</a></li><li><a href="https://github.com/isaacs/node-graceful-fs" target="_blank" rel="noopener noreferrer">graceful-fs</a></li></ul><h3 id="常用cli库" tabindex="-1"><a class="header-anchor" href="#常用cli库"><span>常用cli库</span></a></h3><ul><li><p><a href="https://github.com/vercel/pkg" target="_blank" rel="noopener noreferrer">pkg</a> 将你的 Node.js 程序包装在一个可执行文件中。</p></li><li><p><a href="https://github.com/http-party/node-portfinder" target="_blank" rel="noopener noreferrer">portfinder</a> 自动寻找没被占用的端口</p></li><li><p><a href="https://github.com/typicode/json-server" target="_blank" rel="noopener noreferrer">json-server</a>支持restfulapi增删改查</p></li><li><p><a href="https://github.com/sindresorhus/execa" target="_blank" rel="noopener noreferrer">execa</a></p></li><li><p><a href="https://github.com/chalk/chalk" target="_blank" rel="noopener noreferrer">chalk</a></p></li><li><p><a href="https://github.com/mikaelbr/node-notifier" target="_blank" rel="noopener noreferrer">node-notifier</a></p></li><li><p><a href="https://github.com/ironSource/node-regedit" target="_blank" rel="noopener noreferrer">regedit</a></p></li><li><p><a href="https://github.com/alexeyraspopov/picocolors" target="_blank" rel="noopener noreferrer">picocolors</a></p></li><li><p><a href="https://github.com/jprichardson/node-fs-extra" target="_blank" rel="noopener noreferrer">fs-extra</a></p></li><li><p><a href="https://github.com/szwacz/fs-jetpack" target="_blank" rel="noopener noreferrer">fs-jetpack</a> Better file system API for Node.js</p></li><li><p><a href="https://github.com/mrmlnc/fast-glob" target="_blank" rel="noopener noreferrer">fast-glob</a></p></li><li><p><a href="https://github.com/azu/rc-config-loader" target="_blank" rel="noopener noreferrer">rc-config-loader</a> 获取配置文件</p></li><li><p><a href="https://github.com/sindresorhus/globby" target="_blank" rel="noopener noreferrer">globby</a></p></li><li><p><a href="https://github.com/sindresorhus/pretty-bytes" target="_blank" rel="noopener noreferrer">pretty-bytes</a></p></li><li><p><a href="https://github.com/coreybutler/node-windows" target="_blank" rel="noopener noreferrer">node-windows</a> Windows support for Node.JS scripts (daemons, eventlog, UAC, etc).</p></li><li><p><a href="https://github.com/lodash/lodash" target="_blank" rel="noopener noreferrer">lodash</a></p></li><li><p><a href="https://github.com/isaacs/minimatch" target="_blank" rel="noopener noreferrer">minimatch</a></p></li><li><p><a href="https://github.com/unjs/mlly" target="_blank" rel="noopener noreferrer">milly</a></p></li><li><p><a href="https://github.com/nodemailer/nodemailer" target="_blank" rel="noopener noreferrer">nodemailer</a></p></li><li><p><a href="https://github.com/unjs/ohmyfetch" target="_blank" rel="noopener noreferrer">ohmyfetch</a> A better fetch API. Works on node, browser and workers.</p></li><li><p><a href="https://github.com/sindresorhus/find-up" target="_blank" rel="noopener noreferrer">find-up</a></p></li><li><p><a href="https://github.com/avoidwork/filesize.js" target="_blank" rel="noopener noreferrer">filesize</a></p></li><li><p>enquirer 类似 inquirer</p></li><li><p><a href="https://github.com/sindresorhus/meow" target="_blank" rel="noopener noreferrer">meow</a> 命令行工具</p></li><li><p><a href="https://github.com/terkelg/prompts" target="_blank" rel="noopener noreferrer"><strong>prompts</strong></a></p></li><li><p><a href="https://github.com/SBoudrias/Inquirer.js" target="_blank" rel="noopener noreferrer"><strong>inquirer</strong></a> A collection of common interactive command line user interfaces</p></li><li><p><a href="https://github.com/cacjs/cac" target="_blank" rel="noopener noreferrer">cac</a> Command And Conquer is a JavaScript library for building CLI apps.</p></li><li><p><a href="https://github.com/yargs/yargs" target="_blank" rel="noopener noreferrer"><strong>yargs</strong></a> 一个命令行参数解析工具</p></li><li><p><a href="https://github.com/tj/commander.js" target="_blank" rel="noopener noreferrer"><strong>commander</strong></a></p></li><li><p><a href="https://github.com/kentcdodds/cross-env" target="_blank" rel="noopener noreferrer"><strong>cross-env</strong></a></p></li><li><p><a href="https://github.com/unjs/consola" target="_blank" rel="noopener noreferrer"><strong>consola</strong></a></p></li><li><p><a href="https://github.com/sindresorhus/file-type" target="_blank" rel="noopener noreferrer">file-type</a></p></li><li><p><a href="https://github.com/unjs/defu" target="_blank" rel="noopener noreferrer">defu</a> Assign default properties, recursively. Lightweight and Fast!</p></li><li><p><a href="https://github.com/cheeriojs/cheerio" target="_blank" rel="noopener noreferrer">cheerio</a> nodejs爬虫</p></li><li><p><a href="https://github.com/bda-research/node-crawler" target="_blank" rel="noopener noreferrer">crawler</a></p></li><li><p><a href="https://github.com/shelljs/shelljs" target="_blank" rel="noopener noreferrer">shelljs</a> 跨平台 Unix shell 命令 的 node 封装</p></li><li><p><a href="https://github.com/chjj/blessed" target="_blank" rel="noopener noreferrer">blessed</a> blessed-contrib</p></li><li><p><a href="https://github.com/Microsoft/tslib" target="_blank" rel="noopener noreferrer">tslib</a></p></li><li><p><a href="https://github.com/cronvel/terminal-kit" target="_blank" rel="noopener noreferrer">terminal-kit</a></p></li><li><p><a href="https://github.com/unjs/destr" target="_blank" rel="noopener noreferrer">destr</a> A faster, secure and convenient alternative for<code>JSON.parse</code></p></li><li><p><a href="https://github.com/unjs/ufo" target="_blank" rel="noopener noreferrer">ufo</a> url工具</p></li><li><p><a href="https://github.com/unjs/pathe" target="_blank" rel="noopener noreferrer">pathe</a> 路径工具类似nodejs的path</p></li><li><p><a href="https://github.com/terser/terser" target="_blank" rel="noopener noreferrer">terser</a></p></li><li><p><a href="https://github.com/sindresorhus/ora" target="_blank" rel="noopener noreferrer">ora</a> 命令行加载中图标</p></li><li><p><a href="https://github.com/sindresorhus/open" target="_blank" rel="noopener noreferrer">open</a></p></li><li><p><a href="https://github.com/npm/ini" target="_blank" rel="noopener noreferrer">ini</a></p></li><li><p><a href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener noreferrer">dotenv</a></p></li><li><p><a href="https://github.com/substack/minimist" target="_blank" rel="noopener noreferrer">minimist</a> 命令行解析</p></li><li><p>yaml <a href="https://github.com/nodeca/js-yaml" target="_blank" rel="noopener noreferrer">js-yaml</a></p></li><li><p><a href="https://github.com/BinaryMuse/toml-node" target="_blank" rel="noopener noreferrer">toml</a></p></li><li><p><a href="https://github.com/yeoman/update-notifier" target="_blank" rel="noopener noreferrer">update-notifier</a></p></li><li><p><a href="https://github.com/npm/pacote" target="_blank" rel="noopener noreferrer">pacote</a> Fetches package manifests and tarballs from the npm registry.</p></li><li><p><a href="https://github.com/npkgz/cli-progress" target="_blank" rel="noopener noreferrer">cli-progress</a> 命令行进度条</p></li><li><p><a href="https://github.com/Automattic/cli-table" target="_blank" rel="noopener noreferrer">cli-table</a></p></li><li><p><a href="https://github.com/sindresorhus/boxen" target="_blank" rel="noopener noreferrer">boxen</a></p></li><li><p><a href="https://github.com/npm/node-semver" target="_blank" rel="noopener noreferrer">semver</a></p></li><li><p><a href="https://github.com/paulmillr/chokidar" target="_blank" rel="noopener noreferrer">chokidar</a></p></li><li><p><a href="https://github.com/isaacs/rimraf" target="_blank" rel="noopener noreferrer">rimraf</a></p></li><li><p><a href="https://github.com/isomorphic-git/isomorphic-git" target="_blank" rel="noopener noreferrer">isomorphic-git</a> git相关操作</p></li><li><p><a href="https://github.com/svg/svgo" target="_blank" rel="noopener noreferrer">svgo</a></p></li><li><p><a href="https://github.com/sindresorhus/string-width" target="_blank" rel="noopener noreferrer">string-width</a></p></li><li><p><a href="https://github.com/sindresorhus/terminal-link" target="_blank" rel="noopener noreferrer">terminal-link</a></p></li><li><p><a href="https://github.com/sindresorhus/npm-run-path" target="_blank" rel="noopener noreferrer">npm-run-path</a> Get your PATH prepended with locally installed binaries</p></li><li><p><a href="https://github.com/http-party/http-server" target="_blank" rel="noopener noreferrer">http-server</a></p></li><li><p><a href="https://github.com/rafeca/prettyjson" target="_blank" rel="noopener noreferrer">prettyjson</a></p></li><li><p><a href="https://github.com/jeffbski/wait-on" target="_blank" rel="noopener noreferrer">wait-on</a> wait for files, ports, sockets, and http(s) resources to become available</p></li><li><p><a href="https://github.com/drew-y/cliffy" target="_blank" rel="noopener noreferrer">Cliffy</a> - A Framework For Interactive CLIs</p></li><li><p><a href="https://github.com/vadimdemedes/ink" target="_blank" rel="noopener noreferrer">ink</a></p></li><li><p><a href="https://github.com/npm/node-which" target="_blank" rel="noopener noreferrer">which</a></p></li><li><p><a href="https://github.com/privatenumber/tasuku" target="_blank" rel="noopener noreferrer">tasuku</a> 一个taskrunner类似gulp</p></li><li><p><a href="https://github.com/steveukx/git-js" target="_blank" rel="noopener noreferrer">simple-git</a> git客户端</p></li><li><p><a href="https://github.com/steelbrain/node-ssh" target="_blank" rel="noopener noreferrer">node-ssh</a></p></li><li><p><a href="https://github.com/sindresorhus/get-port" target="_blank" rel="noopener noreferrer">get-port</a></p></li><li><p><a href="https://github.com/sindresorhus/cp-file" target="_blank" rel="noopener noreferrer">cp-file</a></p></li><li><p><a href="https://github.com/websockets/ws" target="_blank" rel="noopener noreferrer">ws</a></p></li><li><p>http-proxy</p></li><li><p><a href="https://github.com/chimurai/http-proxy-middleware" target="_blank" rel="noopener noreferrer">http-proxy-middleware</a></p></li><li><p><a href="https://github.com/browserify/resolve" target="_blank" rel="noopener noreferrer">resolve</a></p></li><li><p><a href="https://github.com/sindresorhus/got" target="_blank" rel="noopener noreferrer">got</a> 类似ohmyfetch,node-fetch</p></li><li><p><a href="https://github.com/visionmedia/superagent" target="_blank" rel="noopener noreferrer">superagent</a> Ajax for Node.js and browsers (JS HTTP client)</p></li><li><p><a href="https://github.com/socketio/socket.io" target="_blank" rel="noopener noreferrer">socket.io</a> Realtime application framework (Node.JS server)</p></li><li><p><a href="https://github.com/tapjs/node-tap" target="_blank" rel="noopener noreferrer">tap</a> test framework</p></li><li><p><a href="https://github.com/nock/nock" target="_blank" rel="noopener noreferrer">nock</a></p></li></ul><h3 id="web-frameworks" tabindex="-1"><a class="header-anchor" href="#web-frameworks"><span>Web frameworks</span></a></h3><ul><li><a href="https://github.com/fastify/fastify" target="_blank" rel="noopener noreferrer">Fastify</a> - Fast and low overhead web framework.</li><li><a href="https://github.com/vercel/next.js" target="_blank" rel="noopener noreferrer">Next.js</a> - Minimalistic framework for server-rendered universal JavaScript web apps.</li><li><a href="https://github.com/nuxt/nuxt.js" target="_blank" rel="noopener noreferrer">Nuxt.js</a> - Minimalistic framework for server-rendered Vue.js apps.</li><li><a href="https://github.com/hapijs/hapi" target="_blank" rel="noopener noreferrer">Hapi</a> - Framework for building applications and services.</li><li><a href="https://github.com/vercel/micro" target="_blank" rel="noopener noreferrer">Micro</a> - Minimalistic microservice framework with an async approach.</li><li><a href="https://github.com/koajs/koa" target="_blank" rel="noopener noreferrer">Koa</a> - Framework designed by the team behind Express, which aims to be a smaller, more expressive, and more robust foundation for web applications and APIs.</li><li><a href="https://github.com/expressjs/express" target="_blank" rel="noopener noreferrer">Express</a> - Web application framework, providing a robust set of features for building single and multi-page, and hybrid web applications.</li><li><a href="https://github.com/feathersjs/feathers" target="_blank" rel="noopener noreferrer">Feathers</a> - Microservice framework built in the spirit of Express.</li><li><a href="https://github.com/loopbackio/loopback-next" target="_blank" rel="noopener noreferrer">LoopBack</a> - Powerful framework for creating REST APIs and easily connecting to backend data sources.</li><li><a href="https://github.com/meteor/meteor" target="_blank" rel="noopener noreferrer">Meteor</a> - An ultra-simple, database-everywhere, data-on-the-wire, pure-Javascript web framework. <em>(You might like <a href="https://github.com/Urigo/awesome-meteor" target="_blank" rel="noopener noreferrer">awesome-meteor</a>)</em></li><li><a href="https://github.com/restify/node-restify" target="_blank" rel="noopener noreferrer">Restify</a> - Enables you to build correct REST web services.</li><li><a href="https://github.com/thinkjs/thinkjs" target="_blank" rel="noopener noreferrer">ThinkJS</a> - Framework with ES2015+ support, WebSockets, REST API.</li><li><a href="https://github.com/actionhero/actionhero" target="_blank" rel="noopener noreferrer">ActionHero</a> - Framework for making reusable &amp; scalable APIs for TCP sockets, WebSockets, and HTTP clients.</li><li><a href="https://github.com/senecajs/seneca" target="_blank" rel="noopener noreferrer">seneca</a> - Toolkit for writing microservices.</li><li><a href="https://github.com/adonisjs/core" target="_blank" rel="noopener noreferrer">AdonisJs</a> - A true MVC framework for Node.js built on solid foundations of Dependency Injection and IoC container.</li><li><a href="https://github.com/moleculerjs/moleculer" target="_blank" rel="noopener noreferrer">Moleculer</a> - Fast &amp; powerful microservices framework.</li><li><a href="https://github.com/nestjs/nest" target="_blank" rel="noopener noreferrer">Nest</a> - Angular-inspired framework for building efficient and scalable server-side apps.</li><li><a href="https://github.com/MichalLytek/type-graphql" target="_blank" rel="noopener noreferrer">TypeGraphQL</a> - Modern framework for creating GraphQL APIs with TypeScript, using classes and decorators.</li><li><a href="https://github.com/tinyhttp/tinyhttp" target="_blank" rel="noopener noreferrer">Tinyhttp</a> - Modern and fast Express-like web framework.</li><li><a href="https://github.com/marblejs/marble" target="_blank" rel="noopener noreferrer">Marble.js</a> - Functional reactive framework for building server-side apps, based on TypeScript and RxJS.</li><li><a href="https://github.com/ladjs/lad" target="_blank" rel="noopener noreferrer">Lad</a> - Framework made by a former Express TC and Koa member that bundles web, API, job, and proxy servers.</li><li><a href="https://github.com/tsedio/tsed" target="_blank" rel="noopener noreferrer">Ts.ED</a> - Intituive TypeScript framework for building server-side apps on top of Express.js or Koa.js.</li></ul><h3 id="数据库" tabindex="-1"><a class="header-anchor" href="#数据库"><span>数据库</span></a></h3><ul><li>Drivers <ul><li><a href="https://github.com/brianc/node-postgres" target="_blank" rel="noopener noreferrer">PostgreSQL</a> - PostgreSQL client. Pure JavaScript and native libpq bindings.</li><li><a href="https://github.com/luin/ioredis" target="_blank" rel="noopener noreferrer">Redis</a> - Redis client.</li><li><a href="https://github.com/Level/levelup" target="_blank" rel="noopener noreferrer">LevelUP</a> - LevelDB.</li><li><a href="https://github.com/mysqljs/mysql" target="_blank" rel="noopener noreferrer">MySQL</a> - MySQL client.</li><li><a href="https://github.com/apache/couchdb-nano" target="_blank" rel="noopener noreferrer">couchdb-nano</a> - CouchDB client.</li><li><a href="https://github.com/aerospike/aerospike-client-nodejs" target="_blank" rel="noopener noreferrer">Aerospike</a> - Aerospike client.</li><li><a href="https://github.com/couchbase/couchnode" target="_blank" rel="noopener noreferrer">Couchbase</a> - Couchbase client.</li><li><a href="https://github.com/mongodb/node-mongodb-native" target="_blank" rel="noopener noreferrer">MongoDB</a> - MongoDB driver.</li></ul></li><li>ODM / ORM <ul><li><a href="https://github.com/sequelize/sequelize" target="_blank" rel="noopener noreferrer">Sequelize</a> - Multi-dialect ORM. Supports PostgreSQL, SQLite, MySQL, and more.</li><li><a href="https://github.com/bookshelf/bookshelf" target="_blank" rel="noopener noreferrer">Bookshelf</a> - ORM for PostgreSQL, MySQL and SQLite3 in the style of Backbone.js.</li><li><a href="https://github.com/Automattic/mongoose" target="_blank" rel="noopener noreferrer">Mongoose</a> - Elegant MongoDB object modeling.</li><li><a href="https://github.com/balderdashy/waterline" target="_blank" rel="noopener noreferrer">Waterline</a> - Datastore-agnostic tool that dramatically simplifies interaction with one or more databases.</li><li><a href="https://github.com/PhilWaldmann/openrecord" target="_blank" rel="noopener noreferrer">OpenRecord</a> - ORM for PostgreSQL, MySQL, SQLite3 and RESTful datastores. Similar to ActiveRecord.</li><li><a href="https://github.com/vitaly-t/pg-promise" target="_blank" rel="noopener noreferrer">pg-promise</a> - PostgreSQL framework for native SQL using promises.</li><li><a href="https://github.com/gajus/slonik" target="_blank" rel="noopener noreferrer">slonik</a> - PostgreSQL client with strict types, detailed logging and assertions.</li><li><a href="https://github.com/Vincit/objection.js" target="_blank" rel="noopener noreferrer">Objection.js</a> - Lightweight ORM built on the SQL query builder Knex.</li><li><a href="https://github.com/typeorm/typeorm" target="_blank" rel="noopener noreferrer">TypeORM</a> - ORM for PostgreSQL, MariaDB, MySQL, SQLite, and more.</li><li><a href="https://github.com/mikro-orm/mikro-orm" target="_blank" rel="noopener noreferrer">MikroORM</a> - TypeScript ORM based on Data Mapper, Unit of Work and Identity Map patterns. Supports MongoDB, PostgreSQL, MySQL and SQLite.</li><li><a href="https://github.com/prisma/prisma" target="_blank" rel="noopener noreferrer">Prisma</a> - Modern database access (ORM alternative). Auto-generated and type-safe query builder in TypeScript. Supports PostgreSQL, MySQL &amp; SQLite.</li></ul></li><li>Query builder <ul><li><a href="https://github.com/knex/knex" target="_blank" rel="noopener noreferrer">Knex</a> - Query builder for PostgreSQL, MySQL and SQLite3, designed to be flexible, portable, and fun to use.</li></ul></li><li>Other <ul><li><a href="https://github.com/louischatriot/nedb" target="_blank" rel="noopener noreferrer">NeDB</a> - Embedded persistent database written in JavaScript.</li><li><a href="https://github.com/typicode/lowdb" target="_blank" rel="noopener noreferrer">Lowdb</a> - Small JavaScript database powered by Lodash.</li><li><a href="https://github.com/jaredwray/keyv" target="_blank" rel="noopener noreferrer">Keyv</a> - Simple key-value storage with support for multiple backends.</li><li><a href="https://github.com/tommybananas/finale" target="_blank" rel="noopener noreferrer">Finale</a> - RESTful endpoint generator for your Sequelize models.</li><li><a href="https://github.com/mlaanderson/database-js" target="_blank" rel="noopener noreferrer">database-js</a> - Wrapper for multiple databases with a JDBC-like connection.</li><li><a href="https://github.com/pkosiec/mongo-seeding" target="_blank" rel="noopener noreferrer">Mongo Seeding</a> - Populate MongoDB databases with JavaScript and JSON files.</li><li><a href="https://github.com/ForbesLindesay/atdatabases" target="_blank" rel="noopener noreferrer">@databases</a> - Query PostgreSQL, MySQL and SQLite3 with plain SQL without risking SQL injection.</li><li><a href="https://github.com/oguimbal/pg-mem" target="_blank" rel="noopener noreferrer">pg-mem</a> - In-memory PostgreSQL instance for your tests.</li></ul></li></ul><h3 id="其他" tabindex="-1"><a class="header-anchor" href="#其他"><span>其他</span></a></h3><ul><li>config</li><li>dotenv</li><li>cross-env</li><li><a href="https://github.com/toddbluhm/env-cmd" target="_blank" rel="noopener noreferrer">env-cmd</a></li><li>dotenv-cli 推荐使用env-cmd+dotenv 然后在<code>main.ts</code>写</li></ul><blockquote><p>第一种使用cross-env</p></blockquote><div class="language-typescript" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> dotenv <span class="token keyword">from</span> <span class="token string">&quot;dotenv&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">dotenv<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">.env.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>在package.json写下script</p><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">&quot;start&quot;:&quot;cross-env NODE_ENV=dev esno main.ts&quot;</span>
<span class="line"></span></code></pre></div><blockquote><p>第二种使用env-cmd</p></blockquote><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">&quot;start&quot;:&quot;env-cmd -f .env esno main.ts&quot;</span>
<span class="line"></span></code></pre></div><blockquote><p>第三种 使用dotenv-cli</p></blockquote><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">&quot;start&quot;:&quot;dotenv -e .env esno main.ts&quot;</span>
<span class="line"></span></code></pre></div><h2 id="一些好用的cli" tabindex="-1"><a class="header-anchor" href="#一些好用的cli"><span>一些好用的cli</span></a></h2><h2 id="全局安装的工具" tabindex="-1"><a class="header-anchor" href="#全局安装的工具"><span>全局安装的工具</span></a></h2><ul><li><a href="https://github.com/antfu/taze" target="_blank" rel="noopener noreferrer">taze</a> 更新你的依赖</li><li><a href="https://github.com/open-cli-tools/concurrently" target="_blank" rel="noopener noreferrer">concurrently</a> Run commands concurrently. Like <code>npm run watch-js &amp; npm run watch-less</code> but better.</li><li>npm-check&amp;npm-check-updates</li><li>zx</li><li>npm-home</li><li><a href="https://github.com/sindresorhus/fkill-cli" target="_blank" rel="noopener noreferrer">fkill-cli</a> Fabulously kill processes. Cross-platform.</li><li>gulp</li><li><a href="https://github.com/tiged/tiged" target="_blank" rel="noopener noreferrer">tiged</a> 类似gitclone</li><li><a href="https://github.com/gruntjs/grunt" target="_blank" rel="noopener noreferrer">grunt</a></li><li>iroiro 显示一些推荐的颜色</li><li><strong>pm2</strong></li><li>nrm</li><li><a href="https://github.com/voidcosmos/npkill" target="_blank" rel="noopener noreferrer">npkill</a> delete nodemodules</li><li>nitropack</li><li>serve</li><li>local-web-server</li><li>ipx High performance, secure and easy to use image proxy</li><li>docute 一个文档生成器</li></ul><h3 id="打包工具" tabindex="-1"><a class="header-anchor" href="#打包工具"><span>打包工具</span></a></h3><ul><li>webpack</li><li>Vite</li><li>pm2</li><li>forever</li><li>yo (yeoman)</li><li>Parcel</li><li>tsup</li><li>unbuild</li><li>nativefier</li><li>esno</li><li>nodemon</li><li>ts-node</li><li>nexe 和pkg类似</li><li>pkg 把nodejs打包为一个单文件,不需要安装nodejs就可以执行</li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p>首次使用会出现下载基础包时间过长的问题，如：</p><div class="language-txt" data-highlighter="prismjs" data-ext="txt"><pre><code class="language-txt"><span class="line">&gt; Targets not specified. Assuming:</span>
<span class="line">  node14-linux-x64, node14-macos-x64, node14-win-x64</span>
<span class="line">&gt; Fetching base Node.js binaries to PKG_CACHE_PATH</span>
<span class="line">  fetched-v14.4.0-linux-x64    [                    ] 0%</span>
<span class="line"> </span>
<span class="line"></span></code></pre></div><p>这种情况下可以手动下载，进入页面手动下载对应的基础包：   <a href="https://github.com/vercel/pkg-fetch/releases" target="_blank" rel="noopener noreferrer">地址</a> 然后拷贝到全局目录PKG_CACHE_PATH 内，PKG_CACHE_PATH 可以通过设置系统变量来设置：</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"> </span>
<span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">PKG_CACHE_PATH</span><span class="token operator">=</span>/usr/local/node/pkg_cache_path</span>
<span class="line"></span></code></pre></div><p>运行完毕后把这行命令建议放到 /etc/profile文件尾部实现长久生效。 运行过 pkg命令后，PKG_CACHE_PATH 目录下有个以版本号命名的目录，将刚才下载的文件重命名为所需文件拷贝到这个目录即可。例如上面命令提示的文件名是 fetched-v16.15.0-win-x64 ，则拷贝时重命名为该名称。 再次运行pkg命令就不会下载了，打包速度很快！</p></div><h2 id="esm注意事项" tabindex="-1"><a class="header-anchor" href="#esm注意事项"><span>esm注意事项</span></a></h2><blockquote><p>注意chalk版本必须是4 <a href="https://github.com/raineorshine/npm-check-updates/blob/main/package.json" target="_blank" rel="noopener noreferrer">https://github.com/raineorshine/npm-check-updates/blob/main/package.json</a> 使用esmpackage <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c" target="_blank" rel="noopener noreferrer">https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c</a></p></blockquote><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment">#查看依赖树</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">ls</span> <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span></span>
<span class="line"><span class="token comment">#查看glob这个包被谁引用了</span></span>
<span class="line"><span class="token function">npm</span> explain glob</span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>原因<a href="https://github.com/chalk/chalk/releases/tag/v5.0.0" target="_blank" rel="noopener noreferrer">https://github.com/chalk/chalk/releases/tag/v5.0.0</a></p><h3 id="替代旧的语法" tabindex="-1"><a class="header-anchor" href="#替代旧的语法"><span>替代旧的语法</span></a></h3><blockquote><p>旧的</p></blockquote><div class="language-javascript" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">([0-9])([0-9])([0-9])</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">re<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;345&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">var</span> three <span class="token operator">=</span> RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">var</span> four <span class="token operator">=</span> RegExp<span class="token punctuation">.</span>$2<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">var</span> five <span class="token operator">=</span> RegExp<span class="token punctuation">.</span>$3<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre></div><blockquote><p>新的</p></blockquote><div class="language-javascript" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">([0-9])([0-9])([0-9])</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">var</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> three<span class="token punctuation">,</span> four<span class="token punctuation">,</span> five<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;345&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre></div><p>编译为esm的语法见<a href="https://github.com/antfu/taze" target="_blank" rel="noopener noreferrer">https://github.com/antfu/taze</a></p><h2 id="unbuild" tabindex="-1"><a class="header-anchor" href="#unbuild"><span>unbuild</span></a></h2><div class="language-typescript" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineBuildConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;unbuild&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineBuildConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  entries<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//也可以不写,会打包为一个单文件</span></span>
<span class="line">  rollup<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    inlineDependencies<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  clean<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  declaration<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="关于不生成-mjs文件名的问题" tabindex="-1"><a class="header-anchor" href="#关于不生成-mjs文件名的问题"><span>关于不生成.mjs文件名的问题</span></a></h2><p>见issue<a href="https://github.com/unjs/unbuild/issues/83" target="_blank" rel="noopener noreferrer">https://github.com/unjs/unbuild/issues/83</a></p><p>需要在.prettierrc写下<br><code>&quot;printWidth&quot;: 1000</code></p><div class="language-json" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;htmlWhitespaceSensitivity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ignore&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;useTabs&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;endOfLine&quot;</span><span class="token operator">:</span> <span class="token string">&quot;auto&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;proseWrap&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;quoteProps&quot;</span><span class="token operator">:</span> <span class="token string">&quot;as-needed&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;embeddedLanguageFormatting&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;insertPragma&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;printWidth&quot;</span><span class="token operator">:</span> <span class="token number">1000</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="node-开发命令行" tabindex="-1"><a class="header-anchor" href="#node-开发命令行"><span>node 开发命令行</span></a></h2><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">node</span> <span class="token function">link</span></span>
<span class="line"></span></code></pre></div><p>npm link 是将当前目录包链接到全局 npm remove -g pka-name 是将全局的链接的 pkg-name 包移除 npm unlink pka-name 是将当前项目中软链接的包移除</p><p>删除全局包</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"> <span class="token function">npm</span> <span class="token function">rm</span> <span class="token parameter variable">-g</span> <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre></div><h2 id="对于pnpm" tabindex="-1"><a class="header-anchor" href="#对于pnpm"><span>对于pnpm</span></a></h2><blockquote><p>要先设置 pnpm_home</p></blockquote><p>然后安装全局包</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">pnpm</span> <span class="token function">link</span> <span class="token parameter variable">-g</span> </span>
<span class="line"></span></code></pre></div><p>卸载的话</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">pnpm</span> un <span class="token parameter variable">-g</span> </span>
<span class="line"></span></code></pre></div>`,56)])])}const i=a(s,[["render",o]]),c=JSON.parse('{"path":"/cs-tips/tool/node-tools.html","title":"node命令行工具","lang":"zh-CN","frontmatter":{"order":1,"description":"node命令行工具 注意事项 https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c tsconfig.json设置\\"module\\": \\"CommonJS\\", package.json一般不建议设置\\"type\\":\\"module\\"不然编译出来的js文件需要加上后缀名imp...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"node命令行工具\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-05-25T04:34:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yzqdev\\",\\"url\\":\\"http://www.yzqdev.top\\"}]}"],["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/cs-tips/tool/node-tools.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"node命令行工具"}],["meta",{"property":"og:description","content":"node命令行工具 注意事项 https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c tsconfig.json设置\\"module\\": \\"CommonJS\\", package.json一般不建议设置\\"type\\":\\"module\\"不然编译出来的js文件需要加上后缀名imp..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-05-25T04:34:06.000Z"}],["meta",{"property":"article:modified_time","content":"2023-05-25T04:34:06.000Z"}]]},"git":{"createdTime":1684989246000,"updatedTime":1684989246000,"contributors":[{"name":"yzqdev","username":"yzqdev","email":"yzqdev@outlook.com","commits":1,"url":"https://github.com/yzqdev"}]},"readingTime":{"minutes":6.89,"words":2067},"filePathRelative":"cs-tips/tool/node-tools.md","autoDesc":true}');export{i as comp,c as data};
