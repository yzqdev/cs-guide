import{_ as s,c as a,a as t,o as p}from"./app-B6vXTniy.js";const e={};function o(l,n){return p(),a("div",null,[...n[0]||(n[0]=[t(`<h1 id="dotnet命令" tabindex="-1"><a class="header-anchor" href="#dotnet命令"><span>dotnet命令</span></a></h1><h1 id="dotnet命令-1" tabindex="-1"><a class="header-anchor" href="#dotnet命令-1"><span>dotnet命令</span></a></h1><div class="hint-container tip"><p class="hint-container-title">提示</p><p>最常用的dotnet命令</p><div class="language-powershell" data-highlighter="prismjs" data-ext="powershell"><pre><code class="language-powershell"><span class="line">dotnet watch run</span>
<span class="line">dotnet build</span>
<span class="line">dotnet restore</span>
<span class="line">dotnet tool install <span class="token operator">-</span>g PowerShell</span>
<span class="line">dotnet publish <span class="token operator">-</span>r win-x64 <span class="token operator">-</span>c Release <span class="token operator">-</span>p:PublishSingleFile=true <span class="token operator">--</span>self-contained false</span>
<span class="line"></span></code></pre></div></div><h2 id="dotnet添加tab补全" tabindex="-1"><a class="header-anchor" href="#dotnet添加tab补全"><span>dotnet添加tab补全</span></a></h2><p><a href="https://docs.microsoft.com/zh-cn/dotnet/core/tools/enable-tab-autocomplete" target="_blank" rel="noopener noreferrer">官网</a></p><p>把下面的代码添加到powershell配置文件</p><div class="language-powershell" data-highlighter="prismjs" data-ext="powershell"><pre><code class="language-powershell"><span class="line"><span class="token comment"># PowerShell parameter completion shim for the dotnet CLI</span></span>
<span class="line"><span class="token function">Register-ArgumentCompleter</span> <span class="token operator">-</span>Native <span class="token operator">-</span>CommandName dotnet <span class="token operator">-</span>ScriptBlock <span class="token punctuation">{</span></span>
<span class="line">     <span class="token keyword">param</span><span class="token punctuation">(</span><span class="token variable">$commandName</span><span class="token punctuation">,</span> <span class="token variable">$wordToComplete</span><span class="token punctuation">,</span> <span class="token variable">$cursorPosition</span><span class="token punctuation">)</span></span>
<span class="line">         dotnet complete <span class="token operator">--</span>position <span class="token variable">$cursorPosition</span> <span class="token string">&quot;<span class="token variable">$wordToComplete</span>&quot;</span> <span class="token punctuation">|</span> <span class="token function">ForEach-Object</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token namespace">[System.Management.Automation.CompletionResult]</span>::new<span class="token punctuation">(</span><span class="token variable">$_</span><span class="token punctuation">,</span> <span class="token variable">$_</span><span class="token punctuation">,</span> <span class="token string">&#39;ParameterValue&#39;</span><span class="token punctuation">,</span> <span class="token variable">$_</span><span class="token punctuation">)</span></span>
<span class="line">         <span class="token punctuation">}</span></span>
<span class="line"> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><h2 id="安装全局工具" tabindex="-1"><a class="header-anchor" href="#安装全局工具"><span>安装全局工具</span></a></h2><div class="language-powershell" data-highlighter="prismjs" data-ext="powershell"><pre><code class="language-powershell"><span class="line">dotnet tool install <span class="token operator">--</span>global PowerShell</span>
<span class="line">dotnet tool install <span class="token operator">-</span>g PowerShell</span>
<span class="line"></span></code></pre></div><h3 id="一些好用的全局工具" tabindex="-1"><a class="header-anchor" href="#一些好用的全局工具"><span>一些好用的全局工具</span></a></h3><p><a href="https://www.nuget.org/packages?packagetype=dotnettool&amp;sortby=totalDownloads-desc&amp;q=&amp;prerel=false" target="_blank" rel="noopener noreferrer">链接</a></p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell"><pre><code class="language-powershell"><span class="line"><span class="token comment"># powershell安装</span></span>
<span class="line">dotnet tool install <span class="token operator">-</span>g PowerShell</span>
<span class="line"><span class="token comment"># 根据editorconfig格式化cs代码</span></span>
<span class="line">dotnet tool install <span class="token operator">--</span>global dotnet-format <span class="token operator">--</span>version 5<span class="token punctuation">.</span>1<span class="token punctuation">.</span>250801</span>
<span class="line"></span>
<span class="line">dotnet tool install <span class="token operator">-</span>g Microsoft<span class="token punctuation">.</span>dotnet-interactive </span>
<span class="line">dotnet tool install <span class="token operator">--</span>global dotnet-ef</span>
<span class="line">dotnet tool install <span class="token operator">-</span>g  Cake<span class="token punctuation">.</span>Tool</span>
<span class="line"></span>
<span class="line">dotnet tool install <span class="token operator">--</span>global GitVersion<span class="token punctuation">.</span>Tool </span>
<span class="line"><span class="token comment"># Octopus Deploy is an automated release management tool</span></span>
<span class="line">dotnet tool install <span class="token operator">--</span>global Octopus<span class="token punctuation">.</span>DotNet<span class="token punctuation">.</span><span class="token function">Cli</span> </span>
<span class="line"><span class="token comment"># Dotnet CLI tool allowing you to run C# (CSX) scripts.</span></span>
<span class="line">dotnet tool install <span class="token operator">--</span>global dotnet-script <span class="token operator">--</span>version 1<span class="token punctuation">.</span>3<span class="token punctuation">.</span>1</span>
<span class="line">dotnet tool install <span class="token operator">--</span>global Nuke<span class="token punctuation">.</span>GlobalTool <span class="token operator">--</span>version 6<span class="token punctuation">.</span>2<span class="token punctuation">.</span>1</span>
<span class="line"><span class="token comment"># 更新所有的tool</span></span>
<span class="line">dotnet tool install <span class="token operator">--</span>global dotnetCampus<span class="token punctuation">.</span>UpdateAllDotNetTools <span class="token operator">--</span>version 1<span class="token punctuation">.</span>0<span class="token punctuation">.</span>7</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 卸载</span></span>
<span class="line">dotnet tool uninstall dotnet-script <span class="token operator">-</span>g</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="打包发布" tabindex="-1"><a class="header-anchor" href="#打包发布"><span>打包发布</span></a></h2><p>使用msbuild <a href="https://docs.microsoft.com/zh-cn/visualstudio/msbuild/msbuild?view=vs-2022" target="_blank" rel="noopener noreferrer">使用msbuild</a> 打包程序 <a href="https://docs.microsoft.com/zh-cn/dotnet/core/deploying/deploy-with-cli" target="_blank" rel="noopener noreferrer">使用cli</a> 生成单个exe文件</p><p><a href="https://docs.microsoft.com/zh-cn/dotnet/core/deploying/single-file" target="_blank" rel="noopener noreferrer">打包生成单个文件</a></p><p>关于更多命令,见<a href="https://docs.microsoft.com/zh-cn/dotnet/core/tools/dotnet-run" target="_blank" rel="noopener noreferrer">官网</a></p><div class="language-powershell" data-highlighter="prismjs" data-ext="powershell"><pre><code class="language-powershell"><span class="line">dotnet publish <span class="token punctuation">[</span>&lt;PROJECT&gt;<span class="token punctuation">|</span>&lt;SOLUTION&gt;<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>a<span class="token punctuation">|</span><span class="token operator">--</span>arch &lt;ARCHITECTURE&gt;<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token operator">-</span>c<span class="token punctuation">|</span><span class="token operator">--</span>configuration &lt;CONFIGURATION&gt;<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token operator">-</span>f<span class="token punctuation">|</span><span class="token operator">--</span>framework &lt;FRAMEWORK&gt;<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>force<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>interactive<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token operator">--</span>manifest &lt;PATH_TO_MANIFEST_FILE&gt;<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>no-build<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>no-dependencies<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token operator">--</span>no-restore<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>nologo<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>o<span class="token punctuation">|</span><span class="token operator">--</span>output &lt;OUTPUT_DIRECTORY&gt;<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token operator">--</span>os &lt;OS&gt;<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>r<span class="token punctuation">|</span><span class="token operator">--</span>runtime &lt;RUNTIME_IDENTIFIER&gt;<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token operator">--</span><span class="token function">sc</span><span class="token punctuation">|</span><span class="token operator">--</span>self-contained <span class="token namespace">[true|false]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>no-self-contained<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token operator">-</span>s<span class="token punctuation">|</span><span class="token operator">--</span>source &lt;SOURCE&gt;<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>v<span class="token punctuation">|</span><span class="token operator">--</span>verbosity &lt;LEVEL&gt;<span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token operator">--</span>version-suffix &lt;VERSION_SUFFIX&gt;<span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">dotnet publish <span class="token operator">-</span>h<span class="token punctuation">|</span><span class="token operator">--</span>help</span>
<span class="line"></span></code></pre></div><div class="language-powershell" data-highlighter="prismjs" data-ext="powershell"><pre><code class="language-powershell"><span class="line">dotnet publish <span class="token operator">-</span>r win-x64 <span class="token operator">-</span>c Release <span class="token operator">-</span>p:PublishSingleFile=true <span class="token operator">--</span>self-contained false</span>
<span class="line"><span class="token comment"># 依赖于框架的可执行文件</span></span>
<span class="line"><span class="token comment"># --self-contained可以省略为--sc</span></span>
<span class="line">dotnet publish <span class="token operator">-</span>c Release <span class="token operator">-</span>r &lt;RID&gt; <span class="token operator">--</span>self-contained false</span>
<span class="line">dotnet publish <span class="token operator">-</span>c Release</span>
<span class="line"><span class="token comment"># 独立部署</span></span>
<span class="line">dotnet publish <span class="token operator">-</span>c Release <span class="token operator">-</span>r &lt;RID&gt; <span class="token operator">--</span>self-contained true</span>
<span class="line"></span></code></pre></div><p>其中rid</p><p>windows</p><ul><li>win-x64</li><li>win-x86</li></ul><p>linux</p><ul><li>linux-x64</li></ul><p>macos</p><ul><li>osx-x64</li></ul><p>部署的csproj</p><div class="language-xml" data-highlighter="prismjs" data-ext="xml"><pre><code class="language-xml"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Project</span> <span class="token attr-name">Sdk</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Microsoft.NET.Sdk<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OutputType</span><span class="token punctuation">&gt;</span></span>Exe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OutputType</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TargetFramework</span><span class="token punctuation">&gt;</span></span>net6.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TargetFramework</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PublishSingleFile</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PublishSingleFile</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SelfContained</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SelfContained</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RuntimeIdentifier</span><span class="token punctuation">&gt;</span></span>win-x64<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RuntimeIdentifier</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PublishReadyToRun</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PublishReadyToRun</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Project</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><ul><li>PublishSingleFile. 启用单文件发布。 此外，还会在 dotnet build 期间启用单文件警告。</li><li>SelfContained. 确定应用是独立的还是依赖于框架的。</li><li>RuntimeIdentifier. 指定目标 OS 和 CPU 类型。 默认情况下，还会设置 <code>&lt;SelfContained&gt;true&lt;/SelfContained&gt;</code>。</li><li>PublishReadyToRun. 启用预先 (AOT) 编译。</li></ul>`,28)])])}const i=s(e,[["render",o]]),r=JSON.parse('{"path":"/cs-tips/tool/dotnet.html","title":"dotnet命令","lang":"zh-CN","frontmatter":{"description":"dotnet命令 dotnet命令 提示 最常用的dotnet命令 dotnet添加tab补全 官网 把下面的代码添加到powershell配置文件 安装全局工具 一些好用的全局工具 链接 打包发布 使用msbuild 使用msbuild 打包程序 使用cli 生成单个exe文件 打包生成单个文件 关于更多命令,见官网 其中rid windows wi...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"dotnet命令\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-05-25T04:34:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yzqdev\\",\\"url\\":\\"http://www.yzqdev.top\\"}]}"],["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/cs-tips/tool/dotnet.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"dotnet命令"}],["meta",{"property":"og:description","content":"dotnet命令 dotnet命令 提示 最常用的dotnet命令 dotnet添加tab补全 官网 把下面的代码添加到powershell配置文件 安装全局工具 一些好用的全局工具 链接 打包发布 使用msbuild 使用msbuild 打包程序 使用cli 生成单个exe文件 打包生成单个文件 关于更多命令,见官网 其中rid windows wi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-05-25T04:34:06.000Z"}],["meta",{"property":"article:modified_time","content":"2023-05-25T04:34:06.000Z"}]]},"git":{"createdTime":1653752204000,"updatedTime":1684989246000,"contributors":[{"name":"yzqdev","username":"yzqdev","email":"yzqdev@outlook.com","commits":5,"url":"https://github.com/yzqdev"}]},"readingTime":{"minutes":1.77,"words":532},"filePathRelative":"cs-tips/tool/dotnet.md","autoDesc":true}');export{i as comp,r as data};
