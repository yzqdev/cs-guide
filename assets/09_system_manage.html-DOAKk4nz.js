import{_ as s,c as n,a as e,o as p}from"./app-B6vXTniy.js";const l={};function t(c,a){return p(),n("div",null,[...a[0]||(a[0]=[e(`<h1 id="系统管理及ipc资源管理" tabindex="-1"><a class="header-anchor" href="#系统管理及ipc资源管理"><span>系统管理及IPC资源管理</span></a></h1><h2 id="系统管理" tabindex="-1"><a class="header-anchor" href="#系统管理"><span>系统管理</span></a></h2><h3 id="查询系统版本" tabindex="-1"><a class="header-anchor" href="#查询系统版本"><span>查询系统版本</span></a></h3><p>查看Linux系统版本:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">uname</span> <span class="token parameter variable">-a</span></span>
<span class="line">lsb_release <span class="token parameter variable">-a</span></span>
<span class="line"></span></code></pre></div><p>查看Unix系统版本：操作系统版本:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">more</span> /etc/release</span>
<span class="line"></span></code></pre></div><h3 id="查询硬件信息" tabindex="-1"><a class="header-anchor" href="#查询硬件信息"><span>查询硬件信息</span></a></h3><p>查看CPU使用情况:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">sar <span class="token parameter variable">-u</span> <span class="token number">5</span> <span class="token number">10</span></span>
<span class="line"></span></code></pre></div><p>查询CPU信息:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"> <span class="token function">cat</span> /proc/cpuinfo</span>
<span class="line"></span></code></pre></div><p>查看CPU的核的个数:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">cat</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">grep</span> processor <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span></span>
<span class="line"></span></code></pre></div><p>查看内存信息:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">cat</span> /proc/meminfo</span>
<span class="line"></span></code></pre></div><p>显示内存page大小（以KByte为单位）:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">pagesize</span>
<span class="line"></span></code></pre></div><p>显示架构:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">arch</span>
<span class="line"></span></code></pre></div><h3 id="设置系统时间" tabindex="-1"><a class="header-anchor" href="#设置系统时间"><span>设置系统时间</span></a></h3><p>显示当前系统时间:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">date</span></span>
<span class="line"></span></code></pre></div><p>设置系统日期和时间(格式为2014-09-15 17:05:00):</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">date</span> <span class="token parameter variable">-s</span> <span class="token number">2014</span>-09-15 <span class="token number">17</span>:05:00</span>
<span class="line"><span class="token function">date</span> <span class="token parameter variable">-s</span> <span class="token number">2014</span>-09-15</span>
<span class="line"><span class="token function">date</span> <span class="token parameter variable">-s</span> <span class="token number">17</span>:05:00</span>
<span class="line"></span></code></pre></div><p>设置时区:</p><pre><code>选择时区信息。命令为：tzselect
根据系统提示，选择相应的时区信息。
</code></pre><p>强制把系统时间写入CMOS（这样，重启后时间也正确了）:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">clock <span class="token parameter variable">-w</span></span>
<span class="line"></span></code></pre></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>设置系统时间需要root用户权限.</p></div><p>格式化输出当前日期时间:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">date</span> +%Y%m%d.%H%M%S</span>
<span class="line">   <span class="token comment"># &gt;20150512.173821</span></span>
<span class="line"></span></code></pre></div><h2 id="ipc资源管理" tabindex="-1"><a class="header-anchor" href="#ipc资源管理"><span>IPC资源管理</span></a></h2><h3 id="ipc资源查询" tabindex="-1"><a class="header-anchor" href="#ipc资源查询"><span>IPC资源查询</span></a></h3><p>查看系统使用的IPC资源:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">ipcs</span>
<span class="line"></span>
<span class="line">    ------ Shared Memory Segments --------</span>
<span class="line">    key        shmid      owner      perms      bytes      nattch     status      </span>
<span class="line"></span>
<span class="line">    ------ Semaphore Arrays --------</span>
<span class="line">    key        semid      owner      perms      nsems     </span>
<span class="line">    0x00000000 <span class="token number">229376</span>     weber      <span class="token number">600</span>        <span class="token number">1</span>         </span>
<span class="line"></span>
<span class="line">    ------ Message Queues --------</span>
<span class="line">    key        msqid      owner      perms      used-bytes   messages    </span>
<span class="line"></span></code></pre></div><p>查看系统使用的IPC共享内存资源:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">ipcs <span class="token parameter variable">-m</span></span>
<span class="line"></span></code></pre></div><p>查看系统使用的IPC队列资源:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">ipcs <span class="token parameter variable">-q</span></span>
<span class="line"></span></code></pre></div><p>查看系统使用的IPC信号量资源:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">ipcs <span class="token parameter variable">-s</span></span>
<span class="line"></span></code></pre></div><p>应用示例：查看IPC资源被谁占用</p><p>有个IPCKEY：51036 ，需要查询其是否被占用；</p><ol><li></li></ol><pre><code>首先通过计算器将其转为十六进制:

:   51036 -\\&gt; c75c
</code></pre><ol start="2"><li>如果知道是被共享内存占用:</li></ol><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">ipcs <span class="token parameter variable">-m</span> <span class="token operator">|</span> <span class="token function">grep</span> c75c</span>
<span class="line">        <span class="token comment"># 0x0000c75c 40403197   tdea3    666        536870912  2</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>如果不确定，则直接查找:</li></ol><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">ipcs <span class="token operator">|</span> <span class="token function">grep</span> c75c</span>
<span class="line">        0x0000c75c <span class="token number">40403197</span>   tdea3    <span class="token number">666</span>        <span class="token number">536870912</span>  <span class="token number">2</span></span>
<span class="line">        0x0000c75c <span class="token number">5079070</span>    tdea3    <span class="token number">666</span>        <span class="token number">4</span></span>
<span class="line"></span></code></pre></div><h3 id="检测和设置系统资源限制" tabindex="-1"><a class="header-anchor" href="#检测和设置系统资源限制"><span>检测和设置系统资源限制</span></a></h3><p>显示当前所有的系统资源limit 信息:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token builtin class-name">ulimit</span> – a</span>
<span class="line"></span></code></pre></div><p>对生成的 core 文件的大小不进行限制:</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token builtin class-name">ulimit</span> – c unlimited</span>
<span class="line"></span></code></pre></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>uname sar arch date ipcs ulimit</p>`,57)])])}const r=s(l,[["render",t]]),o=JSON.parse('{"path":"/linux-tutor/base/09_system_manage.html","title":"系统管理及IPC资源管理","lang":"zh-CN","frontmatter":{"order":9,"description":"系统管理及IPC资源管理 系统管理 查询系统版本 查看Linux系统版本: 查看Unix系统版本：操作系统版本: 查询硬件信息 查看CPU使用情况: 查询CPU信息: 查看CPU的核的个数: 查看内存信息: 显示内存page大小（以KByte为单位）: 显示架构: 设置系统时间 显示当前系统时间: 设置系统日期和时间(格式为2014-09-15 17:...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"系统管理及IPC资源管理\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2022-05-26T17:48:57.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yzqdev\\",\\"url\\":\\"http://www.yzqdev.top\\"}]}"],["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/linux-tutor/base/09_system_manage.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"系统管理及IPC资源管理"}],["meta",{"property":"og:description","content":"系统管理及IPC资源管理 系统管理 查询系统版本 查看Linux系统版本: 查看Unix系统版本：操作系统版本: 查询硬件信息 查看CPU使用情况: 查询CPU信息: 查看CPU的核的个数: 查看内存信息: 显示内存page大小（以KByte为单位）: 显示架构: 设置系统时间 显示当前系统时间: 设置系统日期和时间(格式为2014-09-15 17:..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-05-26T17:48:57.000Z"}],["meta",{"property":"article:modified_time","content":"2022-05-26T17:48:57.000Z"}]]},"git":{"createdTime":1653565176000,"updatedTime":1653587337000,"contributors":[{"name":"yzqdev","username":"yzqdev","email":"yzqdev@outlook.com","commits":2,"url":"https://github.com/yzqdev"}]},"readingTime":{"minutes":1.71,"words":512},"filePathRelative":"linux-tutor/base/09_system_manage.md","autoDesc":true}');export{r as comp,o as data};
