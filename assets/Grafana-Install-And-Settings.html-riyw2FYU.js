import{_ as e,c as r,a as n,o as t}from"./app-B6vXTniy.js";const l={};function s(i,a){return t(),r("div",null,[...a[0]||(a[0]=[n(`<h1 id="grafana-安装和配置" tabindex="-1"><a class="header-anchor" href="#grafana-安装和配置"><span>Grafana 安装和配置</span></a></h1><h2 id="对于版本" tabindex="-1"><a class="header-anchor" href="#对于版本"><span>对于版本</span></a></h2><ul><li><a href="http://docs.grafana.org/features/datasources/elasticsearch/#elasticsearch-version" target="_blank" rel="noopener noreferrer">支持的 Elasticsearch 版本</a></li></ul><h2 id="grafana-docker-安装" tabindex="-1"><a class="header-anchor" href="#grafana-docker-安装"><span>Grafana Docker 安装</span></a></h2><ul><li>官网：<a href="https://hub.docker.com/r/grafana/grafana/" target="_blank" rel="noopener noreferrer">https://hub.docker.com/r/grafana/grafana/</a></li></ul><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">mkdir -p /data/docker/grafana/data</span>
<span class="line">chmod 777 -R /data/docker/grafana/data</span>
<span class="line"></span>
<span class="line">docker run -d --name grafana -p 3000:3000 -v /data/docker/grafana/data:/var/lib/grafana grafana/grafana</span>
<span class="line"></span>
<span class="line">docker exec -it grafana /bin/bash</span>
<span class="line"></span>
<span class="line">容器中默认的配置文件位置：/etc/grafana/grafana.ini</span>
<span class="line">复制出配置文件到宿主机：docker cp grafana:/etc/grafana/grafana.ini /Users/gitnavi/</span>
<span class="line"></span></code></pre></div><ul><li><a href="http://127.0.0.1:3000" target="_blank" rel="noopener noreferrer">http://127.0.0.1:3000</a></li><li>默认管理账号；admin，密码：admin，第一次登录后需要修改密码，也可以通过配置文件修改</li></ul><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">[security]</span>
<span class="line">admin_user = admin</span>
<span class="line">admin_password = admin</span>
<span class="line"></span></code></pre></div><hr><h2 id="grafana-安装" tabindex="-1"><a class="header-anchor" href="#grafana-安装"><span>Grafana 安装</span></a></h2><ul><li>CentOS 7.4</li><li>rpm 文件包大小 53M</li><li>所需内存：300M 左右</li><li>官网下载：<a href="https://grafana.com/grafana/download?platform=linux" target="_blank" rel="noopener noreferrer">https://grafana.com/grafana/download?platform=linux</a></li><li>官网指导：<a href="http://docs.grafana.org/installation/rpm/" target="_blank" rel="noopener noreferrer">http://docs.grafana.org/installation/rpm/</a></li></ul><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">sudo yum install -y initscripts fontconfig urw-fonts</span>
<span class="line">wget https://dl.grafana.com/oss/release/grafana-5.4.0-1.x86_64.rpm </span>
<span class="line">sudo yum localinstall -y grafana-5.4.0-1.x86_64.rpm </span>
<span class="line"></span></code></pre></div><ul><li>启动 Grafana 服务（默认是不启动的）</li></ul><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">sudo systemctl start grafana-server</span>
<span class="line">sudo systemctl status grafana-server</span>
<span class="line"></span></code></pre></div><ul><li>将 Grafana 服务设置为开机启动：<code>sudo systemctl enable grafana-server</code></li><li>开放端口：<code>firewall-cmd --add-port=3000/tcp --permanent</code></li><li>重新加载防火墙配置：<code>firewall-cmd --reload</code></li><li>访问：<a href="http://192.168.0.105:3000" target="_blank" rel="noopener noreferrer">http://192.168.0.105:3000</a></li><li>默认管理账号；admin，密码：admin，登录后需要修改密码</li></ul><hr><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h2><ul><li>官网指导：<a href="http://docs.grafana.org/installation/configuration/" target="_blank" rel="noopener noreferrer">http://docs.grafana.org/installation/configuration/</a></li><li>安装包默认安装后的一些路径 <ul><li>二进制文件：<code>/usr/sbin/grafana-server</code></li><li>init.d 脚本：<code>/etc/init.d/grafana-server</code></li><li>配置文件：<code>/etc/grafana/grafana.ini</code></li><li>日志文件：<code>/var/log/grafana/grafana.log</code></li><li>插件目录是：<code>/var/lib/grafana/plugins</code></li><li>默认配置的 sqlite3 数据库：<code>/var/lib/grafana/grafana.db</code></li></ul></li><li>最重要的配置文件：<code>vim /etc/grafana/grafana.ini</code><ul><li>可以修改用户名和密码</li><li>端口</li><li>数据路径</li><li>数据库配置</li><li>第三方认证</li><li>Session 有效期</li></ul></li><li>添加数据源：<a href="http://192.168.0.105:3000/datasources/new" target="_blank" rel="noopener noreferrer">http://192.168.0.105:3000/datasources/new</a></li><li>添加组织：<a href="http://192.168.0.105:3000/admin/orgs" target="_blank" rel="noopener noreferrer">http://192.168.0.105:3000/admin/orgs</a></li><li>添加用户：<a href="http://192.168.0.105:3000/org/users" target="_blank" rel="noopener noreferrer">http://192.168.0.105:3000/org/users</a></li><li>添加插件：<a href="http://192.168.0.105:3000/plugins" target="_blank" rel="noopener noreferrer">http://192.168.0.105:3000/plugins</a></li><li>个性化设置：<a href="http://192.168.0.105:3000/org" target="_blank" rel="noopener noreferrer">http://192.168.0.105:3000/org</a></li><li>软件变量：<a href="http://192.168.0.105:3000/admin/settings" target="_blank" rel="noopener noreferrer">http://192.168.0.105:3000/admin/settings</a></li></ul><h2 id="官网-dashboard" tabindex="-1"><a class="header-anchor" href="#官网-dashboard"><span>官网 dashboard</span></a></h2><ul><li>dashboar仓库地址：<a href="https://grafana.com/dashboards" target="_blank" rel="noopener noreferrer">https://grafana.com/dashboards</a></li><li>本地可以通过输入 dashboard id 导入别人模板</li><li>打开：<a href="http://192.168.0.105:3000/dashboard/import" target="_blank" rel="noopener noreferrer">http://192.168.0.105:3000/dashboard/import</a><ul><li>输入对应的 id，点击 Load 即可</li></ul></li></ul><h2 id="数据源" tabindex="-1"><a class="header-anchor" href="#数据源"><span>数据源</span></a></h2><h4 id="elasticsearch" tabindex="-1"><a class="header-anchor" href="#elasticsearch"><span>Elasticsearch</span></a></h4><p>使用：</p><ul><li><a href="https://cloud.tencent.com/info/68052367407c3bf21cc10c0263027f3f.html" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/info/68052367407c3bf21cc10c0263027f3f.html</a></li><li><a href="http://docs.grafana.org/features/datasources/elasticsearch/#using-elasticsearch-in-grafana" target="_blank" rel="noopener noreferrer">http://docs.grafana.org/features/datasources/elasticsearch/#using-elasticsearch-in-grafana</a></li></ul><h2 id="其他资料" tabindex="-1"><a class="header-anchor" href="#其他资料"><span>其他资料</span></a></h2><ul><li><a href="https://blog.csdn.net/BianChengNinHao/article/details/80985302" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/BianChengNinHao/article/details/80985302</a></li></ul>`,26)])])}const c=e(l,[["render",s]]),d=JSON.parse('{"path":"/linux-tutor/server/Grafana-Install-And-Settings.html","title":"Grafana 安装和配置","lang":"zh-CN","frontmatter":{"description":"Grafana 安装和配置 对于版本 支持的 Elasticsearch 版本 Grafana Docker 安装 官网：https://hub.docker.com/r/grafana/grafana/ http://127.0.0.1:3000 默认管理账号；admin，密码：admin，第一次登录后需要修改密码，也可以通过配置文件修改 Grafa...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Grafana 安装和配置\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2022-06-04T21:01:43.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yzqdev\\",\\"url\\":\\"http://www.yzqdev.top\\"}]}"],["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/linux-tutor/server/Grafana-Install-And-Settings.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"Grafana 安装和配置"}],["meta",{"property":"og:description","content":"Grafana 安装和配置 对于版本 支持的 Elasticsearch 版本 Grafana Docker 安装 官网：https://hub.docker.com/r/grafana/grafana/ http://127.0.0.1:3000 默认管理账号；admin，密码：admin，第一次登录后需要修改密码，也可以通过配置文件修改 Grafa..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-06-04T21:01:43.000Z"}],["meta",{"property":"article:modified_time","content":"2022-06-04T21:01:43.000Z"}]]},"git":{"createdTime":1653565176000,"updatedTime":1654376503000,"contributors":[{"name":"yzqdev","username":"yzqdev","email":"yzqdev@outlook.com","commits":3,"url":"https://github.com/yzqdev"}]},"readingTime":{"minutes":1.55,"words":464},"filePathRelative":"linux-tutor/server/Grafana-Install-And-Settings.md","autoDesc":true}');export{c as comp,d as data};
