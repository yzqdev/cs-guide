import{_ as n,c as a,a as t,o as e}from"./app-B6vXTniy.js";const p={};function o(l,s){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="一些小技巧" tabindex="-1"><a class="header-anchor" href="#一些小技巧"><span>一些小技巧</span></a></h1><h2 id="网站" tabindex="-1"><a class="header-anchor" href="#网站"><span>网站</span></a></h2><ul><li><a href="https://deno.land/" target="_blank" rel="noopener noreferrer">官网</a></li></ul><h2 id="命令行" tabindex="-1"><a class="header-anchor" href="#命令行"><span>命令行</span></a></h2><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">deno init <span class="token comment">#创建项目</span></span>
<span class="line">deno cache <span class="token parameter variable">--reload</span> my_app.ts <span class="token comment">#下载依赖</span></span>
<span class="line">deno upgrade <span class="token comment">#更新deno</span></span>
<span class="line">deno <span class="token function">fmt</span> <span class="token comment">#格式化</span></span>
<span class="line">deno <span class="token builtin class-name">test</span> <span class="token comment"># https://deno.land/manual@v1.35.2/basics/testing</span></span>
<span class="line">deno <span class="token function">install</span> <span class="token parameter variable">-n</span> awesome_cli https://example.com/awesome/cli.ts</span>
<span class="line">deno uninstall file_server</span>
<span class="line"></span></code></pre></div><h2 id="deno-jsonc" tabindex="-1"><a class="header-anchor" href="#deno-jsonc"><span>deno.jsonc</span></a></h2><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;lock&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;tasks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;init:stripe&quot;</span><span class="token operator">:</span> <span class="token string">&quot;deno run --allow-read --allow-env --allow-net tools/init_stripe.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;db:dump&quot;</span><span class="token operator">:</span> <span class="token string">&quot;deno run --allow-read --allow-env --unstable tools/dump_kv.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;db:seed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;deno run --allow-read --allow-env --allow-net --unstable tools/seed_submissions.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;db:reset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;deno run --allow-read --allow-env --unstable tools/reset_kv.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;deno run --unstable -A --watch=static/,routes/ dev.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KV_PATH=:memory: deno test -A --unstable --parallel --coverage=./cov&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;check:license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;deno run --allow-read --allow-write tools/check_license.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;ok&quot;</span><span class="token operator">:</span> <span class="token string">&quot;deno fmt --check &amp;&amp; deno lint &amp;&amp; deno task check:license --check &amp;&amp; deno check main.ts &amp;&amp; deno task test&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;cov&quot;</span><span class="token operator">:</span> <span class="token string">&quot;deno coverage ./cov/ --lcov --exclude=&#39;test.ts&#39; &gt; cov.lcov&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;update&quot;</span><span class="token operator">:</span> <span class="token string">&quot;deno run -A -r https://fresh.deno.dev/update .&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-jsx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;jsxImportSource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preact&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;imports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;@/&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;$fresh/&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://deno.land/x/fresh@1.3.0/&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;$gfm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://deno.land/x/gfm@0.2.4/mod.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;preact&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://esm.sh/preact@10.15.1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;preact/&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://esm.sh/preact@10.15.1/&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;preact-render-to-string&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://esm.sh/*preact-render-to-string@6.2.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;@preact/signals&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://esm.sh/*@preact/signals@1.1.3&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;@preact/signals-core&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://esm.sh/*@preact/signals-core@1.2.3&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;twind-preset-tailwind/&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://esm.sh/@twind/preset-tailwind@1.1.4/&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;twind-preset-ext&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://esm.sh/@twind/preset-ext@1.0.7/&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;std/&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://deno.land/std@0.195.0/&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;stripe&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./stripe.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;feed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://esm.sh/feed@4.2.2&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;kv_oauth&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://deno.land/x/deno_kv_oauth@v0.2.5/mod.ts&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;@twind/core&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://esm.sh/@twind/core@1.1.3&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;fresh_charts/&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://deno.land/x/fresh_charts@0.3.1/&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&quot;cov/&quot;</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token string">&quot;fresh&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;recommended&quot;</span></span>
<span class="line">      <span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="deno内部npm镜像" tabindex="-1"><a class="header-anchor" href="#deno内部npm镜像"><span>deno内部npm镜像</span></a></h2><p><a href="https://github.com/denoland/deno/issues/16105" target="_blank" rel="noopener noreferrer">https://github.com/denoland/deno/issues/16105</a></p><p>配置环境变量<code>NPM_CONFIG_REGISTRY</code>即可</p><h2 id="deno-使用npm包" tabindex="-1"><a class="header-anchor" href="#deno-使用npm包"><span>deno 使用npm包</span></a></h2><div class="language-typescript" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token comment">// @deno-types=&quot;npm:@types/express@4.17.15&quot;</span></span>
<span class="line"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">&quot;npm:express@4.18.2&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre></div><h2 id="添加types" tabindex="-1"><a class="header-anchor" href="#添加types"><span>添加types</span></a></h2><div class="language-typescript" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line">在主文件添加</span>
<span class="line"> </span>
<span class="line"><span class="token comment">/// &lt;reference types=&quot;./foo.d.ts&quot; /&gt;</span></span>
<span class="line">或者在需要的文件添加</span>
<span class="line"><span class="token comment">// @deno-types=&quot;npm:@types/express@4.17.17&quot;</span></span>
<span class="line"></span></code></pre></div>`,14)])])}const i=n(p,[["render",o]]),r=JSON.parse('{"path":"/frontend/deno/tips.html","title":"一些小技巧","lang":"zh-CN","frontmatter":{"description":"一些小技巧 网站 官网 命令行 deno.jsonc deno内部npm镜像 https://github.com/denoland/deno/issues/16105 配置环境变量NPM_CONFIG_REGISTRY即可 deno 使用npm包 添加types","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"一些小技巧\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-11-19T03:14:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yzqdev\\",\\"url\\":\\"http://www.yzqdev.top\\"}]}"],["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/frontend/deno/tips.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"一些小技巧"}],["meta",{"property":"og:description","content":"一些小技巧 网站 官网 命令行 deno.jsonc deno内部npm镜像 https://github.com/denoland/deno/issues/16105 配置环境变量NPM_CONFIG_REGISTRY即可 deno 使用npm包 添加types"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-11-19T03:14:18.000Z"}],["meta",{"property":"article:modified_time","content":"2023-11-19T03:14:18.000Z"}]]},"git":{"createdTime":1687669238000,"updatedTime":1700363658000,"contributors":[{"name":"yzqdev","username":"yzqdev","email":"yzqdev@outlook.com","commits":3,"url":"https://github.com/yzqdev"}]},"readingTime":{"minutes":1,"words":301},"filePathRelative":"frontend/deno/tips.md","autoDesc":true}');export{i as comp,r as data};
