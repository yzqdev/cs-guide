import{_ as s,c as a,a as p,o as t}from"./app-C8DxhDIZ.js";const e={};function l(i,n){return t(),a("div",null,n[0]||(n[0]=[p(`<h1 id="gradle添加镜像源" tabindex="-1"><a class="header-anchor" href="#gradle添加镜像源"><span>gradle添加镜像源</span></a></h1><p>添加镜像源 参见阿里云的依赖教程 <a href="https://maven.aliyun.com/mvn/guide" target="_blank" rel="noopener noreferrer">https://maven.aliyun.com/mvn/guide</a></p><h2 id="全局镜像源" tabindex="-1"><a class="header-anchor" href="#全局镜像源"><span>全局镜像源</span></a></h2><h2 id="dependencyresolutionmanagement-gradle7使用" tabindex="-1"><a class="header-anchor" href="#dependencyresolutionmanagement-gradle7使用"><span>dependencyResolutionManagement(gradle7使用)</span></a></h2><p>在<code>.gradle</code>文件夹添加下面这个<code>&lt;UserDir&gt;/.gradle/init.d/init.gradle.kts</code>:</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line"><span class="token keyword">val</span> urlMappings1 <span class="token operator">=</span> <span class="token function">mapOf</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token string-literal singleline"><span class="token string">&quot;https://repo.maven.apache.org/maven2&quot;</span></span> <span class="token keyword">to</span> <span class="token string-literal singleline"><span class="token string">&quot;https://maven.aliyun.com/repository/public/&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal singleline"><span class="token string">&quot;https://dl.google.com/dl/android/maven2&quot;</span></span> <span class="token keyword">to</span> <span class="token string-literal singleline"><span class="token string">&quot;https://maven.aliyun.com/repository/google/&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal singleline"><span class="token string">&quot;https://plugins.gradle.org/m2&quot;</span></span> <span class="token keyword">to</span> <span class="token string-literal singleline"><span class="token string">&quot;https://maven.aliyun.com/repository/gradle-plugin/&quot;</span></span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">val</span> urlMappings <span class="token operator">=</span> <span class="token function">mapOf</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token string-literal singleline"><span class="token string">&quot;https://repo.maven.apache.org/maven2&quot;</span></span> <span class="token keyword">to</span> <span class="token string-literal singleline"><span class="token string">&quot;https://mirrors.tencent.com/nexus/repository/maven-public/&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal singleline"><span class="token string">&quot;https://dl.google.com/dl/android/maven2&quot;</span></span> <span class="token keyword">to</span> <span class="token string-literal singleline"><span class="token string">&quot;https://mirrors.tencent.com/nexus/repository/maven-public/&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal singleline"><span class="token string">&quot;https://plugins.gradle.org/m2&quot;</span></span> <span class="token keyword">to</span> <span class="token string-literal singleline"><span class="token string">&quot;https://mirrors.tencent.com/nexus/repository/gradle-plugins/&quot;</span></span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">fun</span> RepositoryHandler<span class="token punctuation">.</span><span class="token function">enableMirror</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    all <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">is</span> MavenArtifactRepository<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">val</span> originalUrl <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeSuffix</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;/&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">            urlMappings<span class="token punctuation">[</span>originalUrl<span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span></span>
<span class="line">                logger<span class="token punctuation">.</span><span class="token function">lifecycle</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Repository[</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">url</span></span><span class="token string">] is mirrored to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">it</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"> </span>
<span class="line"><span class="token comment">// init.gradle.kts</span></span>
<span class="line">gradle<span class="token punctuation">.</span><span class="token function">beforeSettings</span><span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;设置镜像&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    pluginManagement<span class="token punctuation">.</span>repositories<span class="token punctuation">.</span><span class="token function">enableMirror</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    dependencyResolutionManagement<span class="token punctuation">.</span>repositories<span class="token punctuation">.</span><span class="token function">enableMirror</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;当前gradle版本:&quot;</span></span><span class="token operator">+</span>gradle<span class="token punctuation">.</span>gradleVersion<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">gradle<span class="token punctuation">.</span><span class="token function">beforeProject</span> <span class="token punctuation">{</span></span>
<span class="line"> </span>
<span class="line">   </span>
<span class="line">    <span class="token keyword">val</span> wrapperPropertiesFile <span class="token operator">=</span> <span class="token function">file</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;gradle/wrapper/gradle-wrapper.properties&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>wrapperPropertiesFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;设置wrapper版本&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">val</span> properties <span class="token operator">=</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        wrapperPropertiesFile<span class="token punctuation">.</span><span class="token function">inputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span> <span class="token punctuation">{</span> properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// Modify the distributionUrl here</span></span>
<span class="line">        <span class="token keyword">val</span> newDistributionUrl <span class="token operator">=</span></span>
<span class="line">            <span class="token string-literal singleline"><span class="token string">&quot;https://services.gradle.org/distributions/gradle-&quot;</span></span> <span class="token operator">+</span> System<span class="token punctuation">.</span><span class="token function">getenv</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;gradleVersion&quot;</span></span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string-literal singleline"><span class="token string">&quot;-all.zip&quot;</span></span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">val</span> useGradle7 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>extra<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;useGradle7&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>useGradle7  <span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            properties<span class="token punctuation">[</span><span class="token string-literal singleline"><span class="token string">&quot;distributionUrl&quot;</span></span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string-literal singleline"><span class="token string">&quot;https://services.gradle.org/distributions/gradle-7.6.4-all.zip&quot;</span></span></span>
<span class="line">            <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;change dist url=&gt; &quot;</span></span> <span class="token operator">+</span> newDistributionUrl<span class="token punctuation">)</span></span>
<span class="line">            wrapperPropertiesFile<span class="token punctuation">.</span><span class="token function">outputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span> <span class="token punctuation">{</span> properties<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span></span>
<span class="line">            properties<span class="token punctuation">[</span><span class="token string-literal singleline"><span class="token string">&quot;distributionUrl&quot;</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> newDistributionUrl</span>
<span class="line">            <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;change dist url=&gt; &quot;</span></span> <span class="token operator">+</span> newDistributionUrl<span class="token punctuation">)</span></span>
<span class="line">            wrapperPropertiesFile<span class="token punctuation">.</span><span class="token function">outputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span> <span class="token punctuation">{</span> properties<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// Save the modified properties back to the file</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">gradle<span class="token punctuation">.</span><span class="token function">allprojects</span> <span class="token punctuation">{</span></span>
<span class="line">    buildscript <span class="token punctuation">{</span></span>
<span class="line">        repositories<span class="token punctuation">.</span><span class="token function">enableMirror</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    repositories<span class="token punctuation">.</span><span class="token function">enableMirror</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修改单个项目" tabindex="-1"><a class="header-anchor" href="#修改单个项目"><span>修改单个项目</span></a></h2><p>需要在根路径的<code>setting.gradle</code>添加</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line">pluginManagement <span class="token punctuation">{</span></span>
<span class="line">    repositories <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">gradlePluginPortal</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        maven <span class="token punctuation">{</span> url &#39;https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>jitpack<span class="token punctuation">.</span>io&#39; <span class="token punctuation">}</span></span>
<span class="line">        <span class="token function">google</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token function">mavenCentral</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">dependencyResolutionManagement <span class="token punctuation">{</span></span>
<span class="line">    repositoriesMode<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>RepositoriesMode<span class="token punctuation">.</span>FAIL_ON_PROJECT_REPOS<span class="token punctuation">)</span></span>
<span class="line">    repositories <span class="token punctuation">{</span></span>
<span class="line">         maven <span class="token punctuation">{</span> url &#39;https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>jitpack<span class="token punctuation">.</span>io&#39; <span class="token punctuation">}</span></span>
<span class="line">        <span class="token function">google</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token function">mavenCentral</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置国内镜像-低于gradle7" tabindex="-1"><a class="header-anchor" href="#配置国内镜像-低于gradle7"><span>配置国内镜像(低于gradle7)</span></a></h2><p><a href="https://doc.nju.edu.cn/books/35f4a/page/gradle" target="_blank" rel="noopener noreferrer">https://doc.nju.edu.cn/books/35f4a/page/gradle</a> 第一种</p><div class="language-groovy line-numbers-mode" data-highlighter="prismjs" data-ext="groovy" data-title="groovy"><pre><code><span class="line"></span>
<span class="line">settingsEvaluated <span class="token punctuation">{</span> settings <span class="token operator">-&gt;</span></span>
<span class="line">    settings<span class="token punctuation">.</span>dependencyResolutionManagement <span class="token punctuation">{</span></span>
<span class="line">        repositories <span class="token punctuation">{</span></span>
<span class="line">            maven <span class="token punctuation">{</span></span>
<span class="line">            url <span class="token interpolation-string"><span class="token string">&quot;https://maven.aliyun.com/repository/public&quot;</span></span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        google <span class="token punctuation">{</span></span>
<span class="line">            url <span class="token interpolation-string"><span class="token string">&quot;https://maven.aliyun.com/repository/google&quot;</span></span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">allprojects <span class="token punctuation">{</span></span>
<span class="line">    repositories <span class="token punctuation">{</span></span>
<span class="line">        maven <span class="token punctuation">{</span></span>
<span class="line">            url <span class="token interpolation-string"><span class="token string">&quot;https://maven.aliyun.com/repository/public&quot;</span></span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        google <span class="token punctuation">{</span></span>
<span class="line">            url <span class="token interpolation-string"><span class="token string">&quot;https://maven.aliyun.com/repository/google&quot;</span></span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    buildscript <span class="token punctuation">{</span></span>
<span class="line">        repositories <span class="token punctuation">{</span></span>
<span class="line">            maven <span class="token punctuation">{</span></span>
<span class="line">                url <span class="token interpolation-string"><span class="token string">&quot;https://maven.aliyun.com/repository/public&quot;</span></span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            google <span class="token punctuation">{</span></span>
<span class="line">                url <span class="token interpolation-string"><span class="token string">&quot;https://maven.aliyun.com/repository/google&quot;</span></span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第二种</p><div class="language-groovy line-numbers-mode" data-highlighter="prismjs" data-ext="groovy" data-title="groovy"><pre><code><span class="line"></span>
<span class="line"><span class="token keyword">def</span> repoConfig <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    all <span class="token punctuation">{</span> ArtifactRepository repo <span class="token operator">-&gt;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>repo <span class="token keyword">instanceof</span> <span class="token class-name">MavenArtifactRepository</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">def</span> url <span class="token operator">=</span> repo<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&#39;maven.org&#39;</span><span class="token punctuation">)</span><span class="token operator">||</span>url<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;maven.apache.org&quot;</span></span><span class="token punctuation">)</span> <span class="token operator">||</span> url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;https://jcenter.bintray.com/&#39;</span><span class="token punctuation">)</span><span class="token operator">||</span>url<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&#39;dl.google.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                println <span class="token interpolation-string"><span class="token string">&quot;gradle init: (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">) removed&quot;</span></span></span>
<span class="line">                <span class="token function">println</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)已被移除&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                remove repo</span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// maven { url &#39;http://mirrors.cloud.tencent.com/nexus/repository/maven-public/&#39; }</span></span>
<span class="line">    maven <span class="token punctuation">{</span> url <span class="token string">&#39;https://maven.aliyun.com/repository/central&#39;</span> <span class="token punctuation">}</span></span>
<span class="line">    maven <span class="token punctuation">{</span> url <span class="token string">&#39;https://maven.aliyun.com/repository/jcenter&#39;</span> <span class="token punctuation">}</span></span>
<span class="line">    maven <span class="token punctuation">{</span> url <span class="token string">&#39;https://maven.aliyun.com/repository/google&#39;</span> <span class="token punctuation">}</span></span>
<span class="line">    maven <span class="token punctuation">{</span> url <span class="token string">&#39;https://maven.aliyun.com/repository/gradle-plugin&#39;</span> <span class="token punctuation">}</span></span>
<span class="line">    maven<span class="token punctuation">{</span></span>
<span class="line">        url <span class="token interpolation-string"><span class="token string">&quot;https://jitpack.io&quot;</span></span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">allprojects <span class="token punctuation">{</span></span>
<span class="line">    buildscript <span class="token punctuation">{</span></span>
<span class="line">        repositories repoConfig</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    repositories repoConfig</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或者</p><div class="language-groovy line-numbers-mode" data-highlighter="prismjs" data-ext="groovy" data-title="groovy"><pre><code><span class="line">gradle<span class="token punctuation">.</span>projectsLoaded <span class="token punctuation">{</span></span>
<span class="line">    rootProject<span class="token punctuation">.</span>allprojects <span class="token punctuation">{</span></span>
<span class="line">        buildscript <span class="token punctuation">{</span></span>
<span class="line">            repositories <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">def</span> JCENTER_URL <span class="token operator">=</span> <span class="token string">&#39;https://maven.aliyun.com/repository/public&#39;</span></span>
<span class="line">                <span class="token keyword">def</span> GOOGLE_URL <span class="token operator">=</span> <span class="token string">&#39;https://maven.aliyun.com/repository/google&#39;</span></span>
<span class="line">                <span class="token keyword">def</span> NEXUS_URL <span class="token operator">=</span> <span class="token string">&#39;https://maven.aliyun.com/repository/central&#39;</span></span>
<span class="line">                all <span class="token punctuation">{</span> ArtifactRepository repo <span class="token operator">-&gt;</span></span>
<span class="line">                    <span class="token keyword">if</span> <span class="token punctuation">(</span>repo <span class="token keyword">instanceof</span> <span class="token class-name">MavenArtifactRepository</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                        <span class="token keyword">def</span> url <span class="token operator">=</span> repo<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                        <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;https://jcenter.bintray.com/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                            project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token interpolation-string"><span class="token string">&quot;Repository </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">JCENTER_URL</span></span><span class="token string">.&quot;</span></span></span>
<span class="line">                            <span class="token function">println</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;buildscript </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">JCENTER_URL</span></span><span class="token string">.&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                            remove repo</span>
<span class="line">                        <span class="token punctuation">}</span></span>
<span class="line">                        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;https://dl.google.com/dl/android/maven2/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                            project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token interpolation-string"><span class="token string">&quot;Repository </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">GOOGLE_URL</span></span><span class="token string">.&quot;</span></span></span>
<span class="line">                            <span class="token function">println</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;buildscript </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">GOOGLE_URL</span></span><span class="token string">.&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                            remove repo</span>
<span class="line">                        <span class="token punctuation">}</span></span>
<span class="line">                        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;https://repo1.maven.org/maven2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                            project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token interpolation-string"><span class="token string">&quot;Repository </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">REPOSITORY_URL</span></span><span class="token string">.&quot;</span></span></span>
<span class="line">                            <span class="token function">println</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;buildscript </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">REPOSITORY_URL</span></span><span class="token string">.&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                            remove repo</span>
<span class="line">                        <span class="token punctuation">}</span></span>
<span class="line">                    <span class="token punctuation">}</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                jcenter <span class="token punctuation">{</span></span>
<span class="line">                    url JCENTER_URL</span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                google <span class="token punctuation">{</span></span>
<span class="line">                    url GOOGLE_URL</span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                maven <span class="token punctuation">{</span></span>
<span class="line">                    url NEXUS_URL</span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        repositories <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">def</span> JCENTER_URL <span class="token operator">=</span> <span class="token string">&#39;https://maven.aliyun.com/repository/public&#39;</span></span>
<span class="line">            <span class="token keyword">def</span> GOOGLE_URL <span class="token operator">=</span> <span class="token string">&#39;https://maven.aliyun.com/repository/google&#39;</span></span>
<span class="line">            <span class="token keyword">def</span> NEXUS_URL <span class="token operator">=</span> <span class="token string">&#39;https://maven.aliyun.com/repository/central&#39;</span></span>
<span class="line">            all <span class="token punctuation">{</span> ArtifactRepository repo <span class="token operator">-&gt;</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>repo <span class="token keyword">instanceof</span> <span class="token class-name">MavenArtifactRepository</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token keyword">def</span> url <span class="token operator">=</span> repo<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                    <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;https://jcenter.bintray.com/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                        project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token interpolation-string"><span class="token string">&quot;Repository </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">JCENTER_URL</span></span><span class="token string">.&quot;</span></span></span>
<span class="line">                        <span class="token function">println</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;buildscript </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">JCENTER_URL</span></span><span class="token string">.&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                        remove repo</span>
<span class="line">                    <span class="token punctuation">}</span></span>
<span class="line">                    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;https://dl.google.com/dl/android/maven2/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                        project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token interpolation-string"><span class="token string">&quot;Repository </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">GOOGLE_URL</span></span><span class="token string">.&quot;</span></span></span>
<span class="line">                        <span class="token function">println</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;buildscript </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">GOOGLE_URL</span></span><span class="token string">.&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                        remove repo</span>
<span class="line">                    <span class="token punctuation">}</span></span>
<span class="line">                    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;https://repo1.maven.org/maven2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                        project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token interpolation-string"><span class="token string">&quot;Repository </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">REPOSITORY_URL</span></span><span class="token string">.&quot;</span></span></span>
<span class="line">                        <span class="token function">println</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;buildscript </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">REPOSITORY_URL</span></span><span class="token string">.&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                        remove repo</span>
<span class="line">                    <span class="token punctuation">}</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            jcenter <span class="token punctuation">{</span></span>
<span class="line">                url JCENTER_URL</span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            google <span class="token punctuation">{</span></span>
<span class="line">                url GOOGLE_URL</span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            maven <span class="token punctuation">{</span></span>
<span class="line">                url NEXUS_URL</span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="groovy-dsl转kotlin-dsl" tabindex="-1"><a class="header-anchor" href="#groovy-dsl转kotlin-dsl"><span>groovy dsl转kotlin dsl</span></a></h2><p><a href="https://docs.gradle.org/current/userguide/migrating_from_groovy_to_kotlin_dsl.html" target="_blank" rel="noopener noreferrer">https://docs.gradle.org/current/userguide/migrating_from_groovy_to_kotlin_dsl.html</a></p>`,18)]))}const c=s(e,[["render",l]]),u=JSON.parse('{"path":"/kotlin-tutor/gradle/gradle-mirror.html","title":"gradle添加镜像源","lang":"zh-CN","frontmatter":{"description":"gradle添加镜像源 添加镜像源 参见阿里云的依赖教程 https://maven.aliyun.com/mvn/guide 全局镜像源 dependencyResolutionManagement(gradle7使用) 在.gradle文件夹添加下面这个<UserDir>/.gradle/init.d/init.gradle.kts: 修改单个项目...","head":[["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/kotlin-tutor/gradle/gradle-mirror.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"gradle添加镜像源"}],["meta",{"property":"og:description","content":"gradle添加镜像源 添加镜像源 参见阿里云的依赖教程 https://maven.aliyun.com/mvn/guide 全局镜像源 dependencyResolutionManagement(gradle7使用) 在.gradle文件夹添加下面这个<UserDir>/.gradle/init.d/init.gradle.kts: 修改单个项目..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-21T12:11:59.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-21T12:11:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"gradle添加镜像源\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-21T12:11:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yzqdev\\",\\"url\\":\\"http://www.yzqdev.top\\"}]}"]]},"headers":[{"level":2,"title":"全局镜像源","slug":"全局镜像源","link":"#全局镜像源","children":[]},{"level":2,"title":"dependencyResolutionManagement(gradle7使用)","slug":"dependencyresolutionmanagement-gradle7使用","link":"#dependencyresolutionmanagement-gradle7使用","children":[]},{"level":2,"title":"修改单个项目","slug":"修改单个项目","link":"#修改单个项目","children":[]},{"level":2,"title":"配置国内镜像(低于gradle7)","slug":"配置国内镜像-低于gradle7","link":"#配置国内镜像-低于gradle7","children":[]},{"level":2,"title":"groovy dsl转kotlin dsl","slug":"groovy-dsl转kotlin-dsl","link":"#groovy-dsl转kotlin-dsl","children":[]}],"git":{"createdTime":1687669238000,"updatedTime":1737461519000,"contributors":[{"name":"yzqdev","username":"yzqdev","email":"yzqdev@outlook.com","commits":4,"url":"https://github.com/yzqdev"}]},"readingTime":{"minutes":1.86,"words":557},"filePathRelative":"kotlin-tutor/gradle/gradle-mirror.md","localizedDate":"2023年6月25日","autoDesc":true}');export{c as comp,u as data};
