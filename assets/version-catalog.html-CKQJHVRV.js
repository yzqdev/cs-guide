import{_ as s,c as a,a as t,o as p}from"./app-B6vXTniy.js";const e={};function l(o,n){return p(),a("div",null,[...n[0]||(n[0]=[t(`<h1 id="gradle统一版本控制version-catalog" tabindex="-1"><a class="header-anchor" href="#gradle统一版本控制version-catalog"><span>gradle统一版本控制VERSION_CATALOG</span></a></h1><p><a href="https://docs.gradle.org/current/userguide/platforms.html" target="_blank" rel="noopener noreferrer">官方文档</a></p><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h2><p><a href="https://blog.csdn.net/qq_24889033/article/details/125307004" target="_blank" rel="noopener noreferrer">源文档</a></p><h2 id="加入依赖管理" tabindex="-1"><a class="header-anchor" href="#加入依赖管理"><span>加入依赖管理</span></a></h2><div class="language-kotlin" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line">dependencyResolutionManagement <span class="token punctuation">{</span></span>
<span class="line">    repositoriesMode<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>RepositoriesMode<span class="token punctuation">.</span>FAIL_ON_PROJECT_REPOS<span class="token punctuation">)</span></span>
<span class="line">    repositories <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">google</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token function">mavenCentral</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">//注意，重点在这里</span></span>
<span class="line">    versionCatalogs <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">create</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;lib&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;core-ktx&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.core&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;core-ktx&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;1.7.0&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;appcompat&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.appcompat&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;appcompat&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;1.4.1&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><p>create中的lib为创建的目录名，可以自己定义,将来使用<code>implementation(libs.core.ktx)</code>,<code>-</code>会被转化为<code>.</code></p><h2 id="引入外部libs-version-toml文件" tabindex="-1"><a class="header-anchor" href="#引入外部libs-version-toml文件"><span>引入外部<code>libs.version.toml</code>文件</span></a></h2><p>groovy版本</p><div class="language-groovy" data-highlighter="prismjs" data-ext="groovy"><pre><code class="language-groovy"><span class="line">versionCatalogs <span class="token punctuation">{</span>  </span>
<span class="line">  libs <span class="token punctuation">{</span>  </span>
<span class="line">    <span class="token function">from</span><span class="token punctuation">(</span><span class="token function">files</span><span class="token punctuation">(</span> System<span class="token punctuation">.</span><span class="token function">getenv</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;gradle_ext&quot;</span></span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token interpolation-string"><span class="token string">&quot;\\\\libs.versions.toml&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>  </span>
<span class="line">  <span class="token punctuation">}</span>  </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><p>kts版本</p><div class="language-kotlin" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line">versionCatalogs <span class="token punctuation">{</span>  </span>
<span class="line">  <span class="token function">create</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;libs&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  </span>
<span class="line">    <span class="token function">from</span><span class="token punctuation">(</span><span class="token function">files</span><span class="token punctuation">(</span> System<span class="token punctuation">.</span><span class="token function">getenv</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;gradle_ext&quot;</span></span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string-literal singleline"><span class="token string">&quot;\\\\libs.versions.toml&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>  </span>
<span class="line">  <span class="token punctuation">}</span>  </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="添加版本号" tabindex="-1"><a class="header-anchor" href="#添加版本号"><span>添加版本号</span></a></h3><p>第一种</p><div class="language-kotlin" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"> <span class="token comment">//入参是别名和完整的依赖和版本号，比如上面的appcompat可以写成：</span></span>
<span class="line"> versionCatalogs <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">create</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;lib&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;appcompat&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;androidx.appcompat:appcompat:1.4.1&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><p>第二种</p><div class="language-kotlin" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"> <span class="token comment">//入参为{别名},{group},{artifact}</span></span>
<span class="line"> versionCatalogs <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">create</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;lib&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;core-ktx&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.core&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;core-ktx&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;1.7.0&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><p>也可以创建多个目录</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token comment">//settings.gradle.kts</span></span>
<span class="line"> versionCatalogs <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">crete</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;lib&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">   <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;fastjson&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;com.alibaba&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;fastjson&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;1.2.79&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;fastjson2&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;com.alibaba.fastjson2&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;fastjson2&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;2.0.4&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;fastjson2-kotlin&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;com.alibaba.fastjson2&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;fastjson2-kotlin&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;2.0.4&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  </span>
<span class="line">  <span class="token function">create</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;androidx&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">   <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;core-ktx&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.core&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;core-ktx&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;1.7.0&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;appcompat&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.appcompat&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;appcompat&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;1.4.1&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;activity-ktx&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.activity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;activity-ktx&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;1.4.0&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;fragment-ktx&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.fragment&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;fragment-ktx&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;1.4.1&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后为每个子组生成别名会创建成类型安全访问器。例如，给定名为 的版本目录中的以下别名libs： <code>appcompat</code>,<code>core-ktx</code>,<code>activity-kts</code>,<code>androidx.fragment.kts</code> 将会自动生成一下类型安全的访问器：</p><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">lib.appcompat</span>
<span class="line">lib.core.kts</span>
<span class="line">lib.activity.kts</span>
<span class="line">lib.androidx.fragment.kts</span>
<span class="line"></span></code></pre></div><p>前缀lib来自版本目录名称。</p><p>如果您想避免生成子组访问器，我们建议依靠大小写来区分。例如，别名activityKts,coreKtx和fastjson2Kotlin将分别映射到libs.groovyCore,libs.groovyJson和libs.groovyXml访问器。</p><h3 id="管理版本" tabindex="-1"><a class="header-anchor" href="#管理版本"><span>管理版本</span></a></h3><div class="language-kotlin" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token comment">//settings.gradle.kts</span></span>
<span class="line"> <span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;minSdk&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;24&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"> <span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;targetSdk&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;31&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"> </span>
<span class="line"> <span class="token comment">//build.gradle.kts(:app)</span></span>
<span class="line"> android <span class="token punctuation">{</span></span>
<span class="line">  defaultConfig <span class="token punctuation">{</span></span>
<span class="line">   minSdk <span class="token operator">=</span> libs<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>minSdk<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">   targetSdk <span class="token operator">=</span> libs<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>targetSdk<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">   <span class="token operator">..</span><span class="token punctuation">.</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><p>也可以在<strong>根目录</strong>的<code>build.gradle.kts</code>加入</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line">extra<span class="token punctuation">[</span><span class="token string-literal singleline"><span class="token string">&quot;compileSdk&quot;</span></span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">33</span></span>
<span class="line">extra<span class="token punctuation">[</span><span class="token string-literal singleline"><span class="token string">&quot;minSdk&quot;</span></span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">21</span></span>
<span class="line">extra<span class="token punctuation">[</span><span class="token string-literal singleline"><span class="token string">&quot;targetSdk&quot;</span></span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">33</span></span>
<span class="line">\`\`</span>
<span class="line">然后在app目录的\`build<span class="token punctuation">.</span>gradle<span class="token punctuation">.</span>kts\`使用</span>
<span class="line">\`\`\`kotlin</span>
<span class="line">android <span class="token punctuation">{</span></span>
<span class="line">    compileSdk<span class="token operator">=</span>rootProject<span class="token punctuation">.</span>extra<span class="token punctuation">[</span><span class="token string-literal singleline"><span class="token string">&quot;compileSdk&quot;</span></span><span class="token punctuation">]</span> <span class="token keyword">as</span> Int</span>
<span class="line"></span>
<span class="line">    defaultConfig <span class="token punctuation">{</span></span>
<span class="line">        applicationId <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;com.yzq.sample&quot;</span></span></span>
<span class="line">        minSdk<span class="token operator">=</span>rootProject<span class="token punctuation">.</span>extra<span class="token punctuation">[</span><span class="token string-literal singleline"><span class="token string">&quot;minSdk&quot;</span></span><span class="token punctuation">]</span> <span class="token keyword">as</span> Int</span>
<span class="line">        targetSdk<span class="token operator">=</span>rootProject<span class="token punctuation">.</span>extra<span class="token punctuation">[</span><span class="token string-literal singleline"><span class="token string">&quot;targetSdk&quot;</span></span><span class="token punctuation">]</span> <span class="token keyword">as</span> Int</span>
<span class="line">        versionCode <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line">        versionName <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;1.0&quot;</span></span></span>
<span class="line"></span>
<span class="line">        testInstrumentationRunner <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.test.runner.AndroidJUnitRunner&quot;</span></span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用包" tabindex="-1"><a class="header-anchor" href="#使用包"><span>使用包</span></a></h3><p>其实就是一个别名包含一大堆依赖</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line">    versionCatalog <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">version</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;kotlin&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;1.7.0&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;stdlib&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;org.jetbrains.kotlin&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;kotlin-stdlib&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">versionRef</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;kotlin&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;reflect&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;org.jetbrains.kotlin&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;kotlin-reflect&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">versionRef</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;kotlin&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment">//bundle的入参分别为，alias（别名），需要依赖的别名集合</span></span>
<span class="line">        <span class="token function">bundle</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;kotlin&quot;</span></span><span class="token punctuation">,</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;stdlib&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;reflect&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">     <span class="token function">create</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;androidEx&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token comment">//------------------------------ androidx start ----------------------------</span></span>
<span class="line">                <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;core&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.core:core-ktx:1.9.0&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;appcompat&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.appcompat:appcompat:1.5.1&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;fragmentKtx&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.fragment:fragment-ktx:1.5.3&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;material&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;com.google.android.material:material:1.6.1&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token function">library</span><span class="token punctuation">(</span></span>
<span class="line">                    <span class="token string-literal singleline"><span class="token string">&quot;constraintlayout&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">                    <span class="token string-literal singleline"><span class="token string">&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;</span></span></span>
<span class="line">                <span class="token punctuation">)</span></span>
<span class="line">                <span class="token function">library</span><span class="token punctuation">(</span></span>
<span class="line">                    <span class="token string-literal singleline"><span class="token string">&quot;navigationFragmentKtx&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">                    <span class="token string-literal singleline"><span class="token string">&quot;androidx.navigation:navigation-fragment-ktx:2.5.2&quot;</span></span></span>
<span class="line">                <span class="token punctuation">)</span></span>
<span class="line">                <span class="token function">library</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;navigationUiKtx&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;androidx.navigation:navigation-ui-ktx:2.5.2&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">                <span class="token function">bundle</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;common&quot;</span></span><span class="token punctuation">,</span><span class="token function">listOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;core&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;appcompat&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;fragmentKtx&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;material&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;constraintlayout&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;navigationFragmentKtx&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;navigationUiKtx&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">       </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后在子模块中</p><div class="language-kotlin" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line">dependencies<span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">api</span><span class="token punctuation">(</span>lib<span class="token punctuation">.</span>bundles<span class="token punctuation">.</span>kotlin<span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">api</span><span class="token punctuation">(</span>lib<span class="token punctuation">.</span>bundles<span class="token punctuation">.</span>coroutines<span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">//所有module只需要这一句就能依赖所有</span></span>
<span class="line">    <span class="token function">api</span><span class="token punctuation">(</span>androidEx<span class="token punctuation">.</span>bundles<span class="token punctuation">.</span>common<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>tips:不同类型的别名是可以重复的，他们之间相互独立。 允许以下方式使用：</p><div class="language-text" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">version(&quot;kotlin&quot;,&quot;&quot;),</span>
<span class="line">library(&quot;kotlin&quot;,&quot;&quot;),</span>
<span class="line">bundle(&quot;kotlin&quot;,listOf(&quot;&quot;,&quot;&quot;))</span>
<span class="line"></span></code></pre></div></div><h2 id="如何使用bom" tabindex="-1"><a class="header-anchor" href="#如何使用bom"><span>如何使用bom</span></a></h2><div class="language-toml" data-highlighter="prismjs" data-ext="toml"><pre><code class="language-toml"><span class="line">//libs<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>toml</span>
<span class="line"><span class="token punctuation">[</span><span class="token table class-name">libraries</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token key property">deps_okhttp_bom</span> <span class="token punctuation">=</span> <span class="token string">&quot;com.squareup.okhttp3:okhttp-bom:4.9.1&quot;</span></span>
<span class="line"><span class="token key property">deps_okhttp_lib</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">module</span>  <span class="token punctuation">=</span><span class="token string">&quot;com.squareup.okhttp3:okhttp&quot;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token key property">deps_okhttp_logging_interceptor</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span> <span class="token key property">module</span><span class="token punctuation">=</span> <span class="token string">&quot;com.squareup.okhttp3:logging-interceptor&quot;</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">//build<span class="token punctuation">.</span>xml</span>
<span class="line">dependencies <span class="token punctuation">{</span></span>
<span class="line">  implementation platform(libs<span class="token punctuation">.</span>deps<span class="token punctuation">.</span>okhttp<span class="token punctuation">.</span>bom)</span>
<span class="line">  implementation libs<span class="token punctuation">.</span>deps<span class="token punctuation">.</span>okhttp<span class="token punctuation">.</span>lib</span>
<span class="line">  implementation libs<span class="token punctuation">.</span>deps<span class="token punctuation">.</span>okhttp<span class="token punctuation">.</span>logging<span class="token punctuation">.</span>interceptor</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><p>例子</p><div class="language-kotlin" data-highlighter="prismjs" data-ext="kt"><pre><code class="language-kotlin"><span class="line"><span class="token keyword">val</span> composeBom<span class="token operator">=</span><span class="token function">platform</span><span class="token punctuation">(</span>libs<span class="token punctuation">.</span>composeBom<span class="token punctuation">)</span>  </span>
<span class="line"><span class="token function">implementation</span><span class="token punctuation">(</span>composeBom<span class="token punctuation">)</span>  </span>
<span class="line"><span class="token function">androidTestImplementation</span><span class="token punctuation">(</span>composeBom<span class="token punctuation">)</span>  </span>
<span class="line"><span class="token function">implementation</span><span class="token punctuation">(</span>libs<span class="token punctuation">.</span>bundles<span class="token punctuation">.</span>compose<span class="token punctuation">)</span>  </span>
<span class="line"><span class="token function">implementation</span><span class="token punctuation">(</span>libs<span class="token punctuation">.</span>composeMaterial<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre></div>`,37)])])}const c=s(e,[["render",l]]),u=JSON.parse('{"path":"/kotlin-tutor/gradle/version-catalog.html","title":"gradle统一版本控制VERSION_CATALOG","lang":"zh-CN","frontmatter":{"description":"gradle统一版本控制VERSION_CATALOG 官方文档 使用 源文档 加入依赖管理 create中的lib为创建的目录名，可以自己定义,将来使用implementation(libs.core.ktx),-会被转化为. 引入外部libs.version.toml文件 groovy版本 kts版本 添加版本号 第一种 第二种 也可以创建多个目录...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"gradle统一版本控制VERSION_CATALOG\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-01-05T15:16:51.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yzqdev\\",\\"url\\":\\"http://www.yzqdev.top\\"}]}"],["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/kotlin-tutor/gradle/version-catalog.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"gradle统一版本控制VERSION_CATALOG"}],["meta",{"property":"og:description","content":"gradle统一版本控制VERSION_CATALOG 官方文档 使用 源文档 加入依赖管理 create中的lib为创建的目录名，可以自己定义,将来使用implementation(libs.core.ktx),-会被转化为. 引入外部libs.version.toml文件 groovy版本 kts版本 添加版本号 第一种 第二种 也可以创建多个目录..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-01-05T15:16:51.000Z"}],["meta",{"property":"article:modified_time","content":"2024-01-05T15:16:51.000Z"}]]},"git":{"createdTime":1684738995000,"updatedTime":1704467811000,"contributors":[{"name":"yzqdev","username":"yzqdev","email":"yzqdev@outlook.com","commits":3,"url":"https://github.com/yzqdev"}]},"readingTime":{"minutes":2.28,"words":685},"filePathRelative":"kotlin-tutor/gradle/version-catalog.md","autoDesc":true}');export{c as comp,u as data};
