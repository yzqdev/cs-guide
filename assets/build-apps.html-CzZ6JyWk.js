import{_ as n,c as a,a as e,o as i}from"./app-B6vXTniy.js";const l={};function t(p,s){return i(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="打包注意事项" tabindex="-1"><a class="header-anchor" href="#打包注意事项"><span>打包注意事项</span></a></h1><h2 id="教程" tabindex="-1"><a class="header-anchor" href="#教程"><span>教程</span></a></h2><ul><li>安卓离线打包教程 <a href="https://nativesupport.dcloud.net.cn/AppDocs/usesdk/android" target="_blank" rel="noopener noreferrer">https://nativesupport.dcloud.net.cn/AppDocs/usesdk/android</a></li><li>关于appkey的问题 <a href="https://nativesupport.dcloud.net.cn/AppDocs/usesdk/appkey" target="_blank" rel="noopener noreferrer">https://nativesupport.dcloud.net.cn/AppDocs/usesdk/appkey</a></li></ul><h2 id="生成签名证书" tabindex="-1"><a class="header-anchor" href="#生成签名证书"><span>生成签名证书</span></a></h2><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">keytool <span class="token parameter variable">-genkey</span> <span class="token parameter variable">-alias</span> testalias <span class="token parameter variable">-keyalg</span> RSA <span class="token parameter variable">-keysize</span> <span class="token number">2048</span> <span class="token parameter variable">-validity</span> <span class="token number">36500</span> <span class="token parameter variable">-keystore</span> test.keystore</span>
<span class="line"></span></code></pre></div><p>其中:</p><ul><li>testalias是证书别名，可修改为自己想设置的字符，建议使用英文字母和数字</li><li>test.keystore是证书文件名称，可修改为自己想设置的文件名称，也可以指定完整文件路径</li><li>36500是证书的有效期，表示100年有效期，单位天，建议时间设置长一点，避免证书过期</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">Enter keystore password:  //输入证书文件密码，输入完成回车  </span>
<span class="line">Re-enter new password:   //再次输入证书文件密码，输入完成回车  </span>
<span class="line">What is your first and last name?  </span>
<span class="line">  [Unknown]:  //输入名字和姓氏，输入完成回车  </span>
<span class="line">What is the name of your organizational unit?  </span>
<span class="line">  [Unknown]:  //输入组织单位名称，输入完成回车  </span>
<span class="line">What is the name of your organization?  </span>
<span class="line">  [Unknown]:  //输入组织名称，输入完成回车  </span>
<span class="line">What is the name of your City or Locality?  </span>
<span class="line">  [Unknown]:  //输入城市或区域名称，输入完成回车  </span>
<span class="line">What is the name of your State or Province?  </span>
<span class="line">  [Unknown]:  //输入省/市/自治区名称，输入完成回车  </span>
<span class="line">What is the two-letter country code for this unit?  </span>
<span class="line">  [Unknown]:  //输入国家/地区代号（两个字母），中国为CN，输入完成回车  </span>
<span class="line">Is CN=XX, OU=XX, O=XX, L=XX, ST=XX, C=XX correct?  </span>
<span class="line">  [no]:  //确认上面输入的内容是否正确，输入y，回车  </span>
<span class="line"></span>
<span class="line">Enter key password for &lt;testalias&gt;  </span>
<span class="line">        (RETURN if same as keystore password):  //确认证书密码与证书文件密码一样（HBuilder|HBuilderX要求这两个密码一致），直接回车就可以</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看证书信息" tabindex="-1"><a class="header-anchor" href="#查看证书信息"><span>查看证书信息</span></a></h3><div class="language-bash" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">keytool <span class="token parameter variable">-list</span> <span class="token parameter variable">-v</span> <span class="token parameter variable">-keystore</span> test.keystore  </span>
<span class="line"></span></code></pre></div><h3 id="使用android-studio生成证书" tabindex="-1"><a class="header-anchor" href="#使用android-studio生成证书"><span>使用android studio生成证书</span></a></h3><p>菜单栏-&gt;build-&gt;generate signed apk 生成一个jks证书</p><h2 id="分离abi-分开64位和32位" tabindex="-1"><a class="header-anchor" href="#分离abi-分开64位和32位"><span>分离abi(分开64位和32位)</span></a></h2><p>在build.gradle添加</p><div class="language-groovy line-numbers-mode" data-highlighter="prismjs" data-ext="groovy"><pre><code class="language-groovy"><span class="line"></span>
<span class="line"> defaultConfig<span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">     splits <span class="token punctuation">{</span></span>
<span class="line">         abi <span class="token punctuation">{</span></span>
<span class="line">             enable <span class="token boolean">true</span></span>
<span class="line">             </span>
<span class="line">    <span class="token comment">// 排除不必要的架构</span></span>
<span class="line"> exclude <span class="token string">&#39;x86&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;arm64-v8a&#39;</span></span>
<span class="line">  <span class="token comment">// 重置包含的目录</span></span>
<span class="line"> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token comment">// 设置包含，调用前需要先用 reset 将默认清除</span></span>
<span class="line"> include <span class="token string">&#39;armeabi-v7a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;x86&#39;</span></span>
<span class="line"> </span>
<span class="line"> <span class="token comment">// 是否打出包含全部的apk</span></span>
<span class="line"> universalApk <span class="token boolean">true</span></span>
<span class="line">         <span class="token punctuation">}</span></span>
<span class="line">     <span class="token punctuation">}</span></span>
<span class="line"> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h2><ul><li>uni-app运行环境版本和编译器版本不一致的问题<a href="https://ask.dcloud.net.cn/article/35627" target="_blank" rel="noopener noreferrer">https://ask.dcloud.net.cn/article/35627</a></li></ul>`,17)])])}const c=n(l,[["render",t]]),d=JSON.parse('{"path":"/android-tips/hybrid/uniapp/build-apps.html","title":"打包注意事项","lang":"zh-CN","frontmatter":{"description":"打包注意事项 教程 安卓离线打包教程 https://nativesupport.dcloud.net.cn/AppDocs/usesdk/android 关于appkey的问题 https://nativesupport.dcloud.net.cn/AppDocs/usesdk/appkey 生成签名证书 其中: testalias是证书别名，可修改...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"打包注意事项\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-06-25T05:00:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yzqdev\\",\\"url\\":\\"http://www.yzqdev.top\\"}]}"],["meta",{"property":"og:url","content":"https://yzqdev.github.io/cs-guide/cs-guide/android-tips/hybrid/uniapp/build-apps.html"}],["meta",{"property":"og:site_name","content":"cs-guide"}],["meta",{"property":"og:title","content":"打包注意事项"}],["meta",{"property":"og:description","content":"打包注意事项 教程 安卓离线打包教程 https://nativesupport.dcloud.net.cn/AppDocs/usesdk/android 关于appkey的问题 https://nativesupport.dcloud.net.cn/AppDocs/usesdk/appkey 生成签名证书 其中: testalias是证书别名，可修改..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-06-25T05:00:38.000Z"}],["meta",{"property":"article:modified_time","content":"2023-06-25T05:00:38.000Z"}]]},"git":{"createdTime":1684738995000,"updatedTime":1687669238000,"contributors":[{"name":"yzqdev","username":"yzqdev","email":"yzqdev@outlook.com","commits":2,"url":"https://github.com/yzqdev"}]},"readingTime":{"minutes":1.85,"words":554},"filePathRelative":"android-tips/hybrid/uniapp/build-apps.md","autoDesc":true}');export{c as comp,d as data};
